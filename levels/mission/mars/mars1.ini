-- Mars Mission I
-- Initscript


if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end

mybase = bases:add(  0, PLAYER_BASE,  116,  494 )

-- nach 1 ins spezial
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  0, SPOBJ_TELEPORT1,  889, 1173,             1 )

-- nach 2 in hinterhalt
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  1, SPOBJ_TELEPORT1, 1257, 1011,             2 )

-- nach 2 zu sich selbst
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  2, SPOBJ_TELEPORT1, 2650, 1456,             2 )

-- nach 4 finger
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  3, SPOBJ_TELEPORT1, 3039, 1555,             4 )

-- zu sich 4 selbst
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  4, SPOBJ_TELEPORT1, 1310,  658,             4 )

-- zehn fracht bitte
fracht1 = bases:add(  1, CARGO_BASE, 1556,  776 )
fracht1:set_cargo_type(CARGO_NORMAL)
fracht1:set_cargo_weight(10)

-- zehn fracht bitte
fracht2 = bases:add(  2, CARGO_BASE, 1253, 1401 )
fracht2:set_cargo_type(CARGO_NORMAL)
fracht2:set_cargo_weight(10)

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  1, E_SHIP_BLUE1,  364,  355,         0,           53,        600,                     3,             2,           0 )
myen.wp:add(  364,  355, 2.0, 0 )
myen.wp:add(  474,  448, 1.0, 0 )
myen.wp:add(  527,  316, 1.0, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  2, E_SHIP_BLUE1,  667,  325,         0,            38,        800,                     8,             2,           0 )
myen.wp:add(  667,  325, 1.0, 0 )
myen.wp:add(  751,  410, 1.0, 0 )
myen.wp:add(  625,  494, 1.0, 0 )
myen.wp:add(  775,  292, 3.0, 0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  3, E_SHIP_BLUE2, 1012,  166,         0,            13,        400,                     4,             2,           0 )
myen.wp:add( 1012,  166, 1.3, 0 )
myen.wp:add( 1012,  237, 1.0, 0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  4, E_TOWER_THREE,  801,  478,         0,            60,        300,                     3,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  5, E_TOWER_THREE,  864,  392,         0,            30,        300,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  6, E_TOWER_THREE,  821,  466,         0,            60,        400,                     3,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  7, E_TOWER_THREE,  885,  380,         0,            45,        500,                     4,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  8, E_TOWER_THREE,  966,  295,         0,            60,        600,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  9, E_TOWER_THREE, 1120,  295,         0,             3,        125,                     3,             5,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 63, E_TOWER_THREE, 1113,  297,         0,             3,        120,                     3,             5,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 10, E_TOWER_SINGLE, 1146,  175,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 11, E_TOWER_SINGLE, 1158,  180,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 12, E_TOWER_SINGLE, 1170,  184,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 13, E_TOWER_SINGLE, 1182,  184,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 14, E_TOWER_SINGLE, 1195,  184,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 15, E_TOWER_THREE, 1245,  632,         0,            40,        500,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 16, E_TOWER_THREE, 1275,  628,         0,            30,        500,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 17, E_TOWER_THREE, 1343,  681,         0,            20,        500,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 18, E_TOWER_THREE, 1410,  775,         0,            80,        500,                     2,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 19, E_TOWER_SINGLE, 1678,  668,        0,   D_LEFT,            10,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 20, E_TOWER_SINGLE, 1681,  689,        0,   D_LEFT,            10,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 21, E_TOWER_SINGLE, 1682,  710,        0,   D_LEFT,            10,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 22, E_TOWER_SINGLE, 1391,  719,        0,   D_RIGHT,            10,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 23, E_TOWER_SINGLE, 1296,  643,        0,   D_RIGHT,            30,        500,                     2,             1 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 24, E_SHIP_BLUE1, 1263,  364,         0,            46,        800,                     2,             2,           0 )
myen.wp:add( 1263,  364, 1.0, 0 )
myen.wp:add( 1535,  428, 1.2, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 25, E_SHIP_BLUE1, 1557,  478,         0,             6,        200,                     2,             2,           0 )
myen.wp:add( 1557,  478, 1.2, 0 )
myen.wp:add( 1305,  426, 1.0, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 26, E_SHIP_BLUE1, 1427,  602,         0,             7,        200,                     2,             2,           0 )
myen.wp:add( 1427,  602, 1.0, 0 )
myen.wp:add( 1502,  540, 1.4, 0 )
myen.wp:add( 1567,  604, 1.8, 0 )
myen.wp:add( 1503,  676, 2.2, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 27, E_SHIP_BLUE1, 1617,  736,         0,            30,        500,                     2,             2,           0 )
myen.wp:add( 1617,  736, 1.0, 0 )
myen.wp:add( 1523,  736, 1.0, 0 )

-- E_SHIP_BIGRED, Parameter:                       signatur, [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt]
myen = enemies:add( 28, E_SHIP_BIGRED,  999,  674,         0,           0,           0,           0,           0,           0 )
myen.wp:add(  999,  674, 1.5, 0 )
myen.wp:add( 1051,  787, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 29, E_TOWER_SINGLE, 1059,  564,        0,   D_DOWN,            30,        500,                     2,             1 )
myen.wp:add( 1008,  664, 1.0, 0 )
myen.wp:add( 1122,  689, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 30, E_TOWER_SINGLE, 1081,  569,        0,   D_DOWN,            28,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 31, E_TOWER_SINGLE, 1109,  567,        0,   D_DOWN,            26,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 32, E_TOWER_SINGLE, 1133,  567,        0,   D_DOWN,            24,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 33, E_TOWER_SINGLE, 1157,  571,        0,   D_DOWN,            22,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 34, E_TOWER_SINGLE, 1166,  570,        0,   D_DOWN,            20,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 35, E_TOWER_SINGLE, 1174,  566,        0,   D_DOWN,            18,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 36, E_TOWER_SINGLE, 1065,  582,        0,     D_UP,            16,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 37, E_TOWER_SINGLE, 1140,  580,        0,     D_UP,            14,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 38, E_TOWER_SINGLE, 1098,  581,        0,     D_UP,            12,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 39, E_TOWER_SINGLE, 1115,  580,        0,     D_UP,            10,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 40, E_TOWER_SINGLE,  799,  866,        0,   D_RIGHT,             8,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 41, E_TOWER_SINGLE,  800,  878,        0,   D_RIGHT,             6,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 42, E_TOWER_SINGLE,  790,  906,        0,   D_RIGHT,             4,        500,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 43, E_TOWER_THREE,  875, 1058,         0,            30,        600,                     4,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 44, E_TOWER_SINGLE,  855,  976,        0,   D_RIGHT,            60,        500,                     3,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 45, E_TOWER_SINGLE,  813, 1077,        0,   D_LEFT,            60,        500,                     5,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 46, E_TOWER_SINGLE,  814, 1101,        0,   D_LEFT,            40,        500,                     4,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 47, E_TOWER_SINGLE,  814, 1118,        0,   D_LEFT,            20,        500,                     1,             1 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 48, E_SHIP_BLUE2, 1244, 1349,         0,             5,        150,                     1,             1,           0 )
myen.wp:add( 1260, 1349, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 50, E_TOWER_SINGLE, 1345, 1164,        0,   D_LEFT,            60,        500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 51, E_TOWER_SINGLE, 1347, 1191,        0,   D_LEFT,            60,        500,                     2,             1 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 52, E_SHIP_BLUE1, 2556, 1359,         0,            90,        100,                     2,             1,           0 )
myen.wp:add( 2556, 1359, 2.0, 0 )
myen.wp:add( 2586, 1555, 2.0, 0 )
myen.wp:add( 2754, 1529, 2.0, 0 )
myen.wp:add( 2720, 1352, 2.0, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 53, E_SHIP_BLUE1, 2690, 1494,         0,            90,        100,                     2,             1,           0 )
myen.wp:add( 2690, 1494, 1.5, 0 )
myen.wp:add( 2716, 1419, 1.5, 0 )
myen.wp:add( 2593, 1434, 1.5, 0 )
myen.wp:add( 2609, 1536, 1.5, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 54, E_TOWER_SINGLE, 2780, 1410,        0,   D_LEFT,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 55, E_TOWER_SINGLE, 2781, 1506,        0,   D_LEFT,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 56, E_TOWER_SINGLE, 2529, 1431,        0,   D_RIGHT,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 57, E_TOWER_SINGLE, 2529, 1499,        0,   D_RIGHT,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 58, E_TOWER_SINGLE, 2621, 1587,        0,     D_UP,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 59, E_TOWER_SINGLE, 2686, 1585,        0,     D_UP,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 60, E_TOWER_SINGLE, 2614, 1338,        0,   D_DOWN,            15,        500,                     6,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 61, E_TOWER_SINGLE, 2688, 1334,        0,   D_DOWN,            15,        500,                     6,             1 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 62, E_SHIP_BLUE1, 2959, 1443,         0,            4,        250,                     5,             1,           0 )
myen.wp:add( 2959, 1443, 1.0, 0 )
myen.wp:add( 3015, 1481, 1.0, 0 )

-- Jetzt kommen die Auszuege aus GF Level 1...

-- globale Frachtgewicht-Variable nullsetzen
frachtgewicht = 0

-- Mission schlaegt fehl, wenn Spieler mit eingeladener Fracht zerstoert wird
function hook_player_dead_0( pl )
  if (pl:get_weight() > 0) then
    pl:set_mission_status(-1)
  end
end

-- Feststellen, ob alle Fracht angekommen ist
function hook_player_returns_cargo_0( pl )
  frachtgewicht = frachtgewicht + pl:get_weight()
  if (frachtgewicht == 20) then
    local myosd = playmap[1].osd:get_osdbit(1000)
    myosd:clear()
    pl:set_mission_status(1)
  end  
end
