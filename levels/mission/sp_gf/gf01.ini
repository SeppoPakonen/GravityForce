-- GF Level 1: INI file

base = bases:add(  0, PLAYER_BASE,  536,  591 )

base = bases:add(  1, CARGO_BASE,  125,  204 )
base:set_cargo_type(CARGO_NORMAL)
base:set_cargo_weight(5)

base = bases:add(  2, CARGO_BASE,  493, 1018 )
base:set_cargo_type(CARGO_NORMAL)
base:set_cargo_weight(10)

objects:add(  0, OBJ_PILE,  202,  195 )
objects:add(  1, OBJ_PILE,  300,  570 )
objects:add(  2, OBJ_PILE,  475, 1012 )
objects:add(  3, OBJ_PILE,  583, 1015 )

player[1]:set_shield(0)
player[1]:set_max_shield(0)
player[1]:set_shield_recharge(0)
player[1]:set_hull(1)
player[1]:set_max_hull(1)
player[1]:set_hull_repair(0)

-- Alle Waffen deaktivieren, Single Blaster einschalten
local n
for n = 1, player[1]:get_avail_weapon_slots() do
  player[1]:deactivate_weapon_slot(n)
end
local firstslot = player[1]:get_weapon_slot(0)
firstslot.type = W_SINGLE
firstslot.active = 1
firstslot.bullets = -1
firstslot.reload = -1
player[1]:set_weapon_slot(0, firstslot);


myship = enemies:add( 1, E_SHIP_BLUE1, 127, 98, 0, 80, 800, 4, 2, 0 )
myship.wp:add( 127, 98, 1 )
myship.wp:add( 430, 105, 1 )

myship = enemies:add( 2, E_SHIP_BLUE1, 407, 468, 0, 80, 800, 4, 2, 0 )
myship.wp:add( 407, 468, 1 )
myship.wp:add( 91, 477, 1 )

myship = enemies:add( 3, E_SHIP_BLUE1, 74, 795, 0, 80, 800, 4, 2, 0 )
myship.wp:add( 74, 795, 1 )
myship.wp:add( 554, 822, 1 )

mytower = enemies:add( 4, E_TOWER_SINGLE, 352, 287, 0, D_UP, 80, 300, 3, 1 )
mytower:set_xradius(300)
mytower:set_yradius(400)

mytower = enemies:add( 5, E_TOWER_SINGLE, 332, 952, 0, D_UP, 80, 300, 3.5, 1 )
mytower:set_xradius(450)
mytower:set_yradius(350)

mytower = enemies:add( 6, E_TOWER_SINGLE, 213, 40, 0, D_DOWN, 40, 300, 3, 1 )
mytower:set_xradius(300)
mytower:set_yradius(400)

-- Frachtfunktionen einbinden
dofile("./levels/libcargo.sc")

init_cargo()

function hook_player_returns_cargo_0(pl)
  check_cargo_return(pl)
end

function hook_player_dead_0(pl)
  check_cargo_dead(pl)
end
