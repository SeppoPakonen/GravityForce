-- INI-Datei
-- Frapela14
-- von Frapela
-- 02.09.2003

if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end

globals.score_per_second = 1
globals.extra_amount     = 0

ladung     = 0
tuer       = {}
tuer_aktiv = {}
local n
for n = 1, 12 do
  tuer_aktiv[n] = 0
end
tuer_aktiv[12] = 1

mybase = bases:add(  0, PLAYER_BASE, 2369,  257 )

mybase = bases:add(  1, CARGO_BASE,   58,  205 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  2, CARGO_BASE,  314,  539 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  3, CARGO_BASE,  141,  972 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  4, CARGO_BASE,  492,  973 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  5, CARGO_BASE,  424, 1547 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  6, CARGO_BASE, 1162, 1549 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )
mybase = bases:add(  7, CARGO_BASE, 1045, 1773 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 20 )

tuer[ 1] = objects:add(  1, OBJ_DOORV2,  267,   37 )   -- ganz oben links
tuer[ 2] = objects:add(  2, OBJ_DOORH,   425,  234 )   -- oben links die 1.
tuer[ 3] = objects:add(  3, OBJ_DOORH2,  117,  593 )   -- oben links die 2.
tuer[ 4] = objects:add(  4, OBJ_DOORV2,  269,  853 )   -- Kreuzung links-mitte: links
tuer[ 5] = objects:add(  5, OBJ_DOORV2,  340,  852 )   -- Kreuzung links-mitte: rechts
tuer[ 6] = objects:add(  6, OBJ_DOORH,   270,  986 )   -- Kreuzung links-mitte: unten
tuer[ 7] = objects:add(  7, OBJ_DOORV2,  703,  844 )   -- rechts neben der 'Kreuzung links-mitte'
tuer[ 8] = objects:add(  8, OBJ_DOORH,  1289, 1051 )   -- rechter senkrechter Gang
tuer[ 9] = objects:add(  9, OBJ_DOORV,   988, 1478 )   -- Kreuzung unten-mitte: links
tuer[10] = objects:add( 10, OBJ_DOORV,  1151, 1476 )   -- Kreuzung unten-mitte: rechts
tuer[11] = objects:add( 11, OBJ_DOORH,  1039, 1592 )   -- Kreuzung unten-mitte: unten  -- (1039,1562)
tuer[12] = objects:add( 12, OBJ_DOORH2, 1995,  290 )   -- Basistür

myen = enemies:add(  1, E_SHIP_BLUE1, random( 2048, 2300 ), random(  145,  221 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random( 2048, 2300 ), random(  145,  221 ), random() + 0.7, 0 )
end
myen = enemies:add( 10, E_SHIP_BLUE1, random(  718, 1069 ), random(  660,  900 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random(  718, 1069 ), random(  660,  900 ), random() + 0.7, 0 )
end
myen = enemies:add( 15, E_SHIP_BLUE1, 1300, 1069, 0, 80, 800, 2, 2, 0 )
local n
for n = 1, 12 do
  myen.wp:add( 1300, 1069, random() + 0.7, 0 )
  myen.wp:add( 1300, 1500, random() + 0.7, 0 )
  myen.wp:add( 1170, 1500, random() + 0.7, 0 )
  myen.wp:add( 1300, 1500, random() + 0.7, 0 )
end
myen = enemies:add( 16, E_SHIP_BLUE1,  290, 1004, 0, 80, 800, 2, 2, 0 )
local n
for n = 1, 12 do
  myen.wp:add(  290, 1004, random() + 0.7, 0 )
  myen.wp:add(  290, 1500, random() + 0.7, 0 )
  myen.wp:add(  940, 1500, random() + 0.7, 0 )
  myen.wp:add(  290, 1500, random() + 0.7, 0 )
end

myen = enemies:add(  2, E_SHIP_BLUE2, random( 1930, 1991 ), random(  510,  580 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random( 1930, 1991 ), random(  510,  580 ), random() + 0.7, 0 )
end
myen = enemies:add( 11, E_SHIP_BLUE2, random(  955, 1409 ), random(  450,  630 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random(  955, 1409 ), random(  450,  630 ), random() + 0.7, 0 )
end
myen = enemies:add( 12, E_SHIP_BLUE2, random( 1291, 1366 ), random(  675,  872 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random( 1291, 1366 ), random(  675,  872 ), random() + 0.7, 0 )
end
myen = enemies:add( 13, E_SHIP_BLUE2, random( 1090, 1366 ), random(   50,  730 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random( 1090, 1366 ), random(   50,  730 ), random() + 0.7, 0 )
end
myen = enemies:add( 14, E_SHIP_BLUE2, random(  193,  450 ), random(  332,  480 ),         0,            80,        800,                     2,             2,           0 )
local n
for n = 1, 12 do
  myen.wp:add( random(  193,  450 ), random(  332,  480 ), random() + 0.7, 0 )
end

myen = enemies:add(  3, E_TOWER_SINGLE, 1958,  337, 0, D_RIGHT, 60, 500, 2, 1 )
myen = enemies:add(  4, E_TOWER_SINGLE, 2105,  350, 0, D_LEFT,  60, 500, 2, 1 )
myen = enemies:add(  5, E_TOWER_SINGLE, 1531,  675, 0, D_UP,    60, 500, 2, 1 )
myen = enemies:add(  6, E_TOWER_SINGLE, 1703,  678, 0, D_UP,    60, 500, 2, 1 )
myen = enemies:add(  7, E_TOWER_SINGLE, 1887,  678, 0, D_UP,    60, 500, 2, 1 )
myen = enemies:add( 24, E_TOWER_SINGLE, 1102, 1024, 0, D_UP,    40, 800, 3, 1 )
myen = enemies:add( 35, E_TOWER_SINGLE, 1019,  317, 0, D_RIGHT, 40, 800, 3, 1 )
myen = enemies:add( 36, E_TOWER_SINGLE,  994,  293, 0, D_RIGHT, 40, 800, 3, 1 )
myen = enemies:add( 37, E_TOWER_SINGLE,  972,  269, 0, D_RIGHT, 40, 800, 3, 1 )
myen = enemies:add( 38, E_TOWER_SINGLE, 1490,  282, 0, D_LEFT,  40, 800, 3, 1 )
myen = enemies:add( 39, E_TOWER_SINGLE, 1493,  305, 0, D_LEFT,  40, 800, 3, 1 )
myen = enemies:add( 40, E_TOWER_SINGLE, 1492,  330, 0, D_LEFT,  40, 800, 3, 1 )
myen = enemies:add( 41, E_TOWER_SINGLE, 1487,  257, 0, D_LEFT,  40, 800, 3, 1 )
myen = enemies:add( 45, E_TOWER_SINGLE,  216,  966, 0, D_UP,    60, 500, 2, 1 )
myen = enemies:add( 46, E_TOWER_SINGLE,  192,  701, 0, D_LEFT,  60, 500, 2, 1 )
myen = enemies:add( 47, E_TOWER_SINGLE,  196,  771, 0, D_LEFT,  60, 500, 2, 1 )
myen = enemies:add( 48, E_TOWER_SINGLE,  196,  832, 0, D_LEFT,  60, 500, 2, 1 )
myen = enemies:add( 49, E_TOWER_SINGLE,   86,  800, 0, D_RIGHT, 60, 500, 2, 1 )
myen = enemies:add( 50, E_TOWER_SINGLE,   87,  738, 0, D_RIGHT, 60, 500, 2, 1 )
myen = enemies:add( 51, E_TOWER_SINGLE,  618,  971, 0, D_UP,    60, 500, 2, 1 )
myen = enemies:add( 52, E_TOWER_SINGLE,  425,  971, 0, D_UP,    60, 500, 2, 1 )

myen = enemies:add(  8, E_TOWER_THREE, 1799,  681,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add(  9, E_TOWER_THREE, 1624,  680,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 29, E_TOWER_THREE,  931, 1065,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 30, E_TOWER_THREE,  980, 1067,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 31, E_TOWER_THREE,  879, 1066,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 32, E_TOWER_THREE,  831, 1066,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 33, E_TOWER_THREE,  781, 1066,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 34, E_TOWER_THREE, 1117,  908,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 44, E_TOWER_THREE,  127,  969,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 53, E_TOWER_THREE,  471,  970,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 54, E_TOWER_THREE,  570,  970,         0,            60,        500,                     2,             1,           0 )

myen = enemies:add( 17, E_TOWER_FLAK, 1261,  772,        0,        70,            60,        500,                     3,             3 )
myen = enemies:add( 20, E_TOWER_FLAK, 1191,  859,        0,        80,            60,        500,                     4,             3 )
myen = enemies:add( 21, E_TOWER_FLAK,  997, 1065,        0,        80,            60,        500,                     4,             3 )
myen = enemies:add( 22, E_TOWER_FLAK,  902, 1065,        0,        80,            60,        500,                     4,             3 )
myen = enemies:add( 23, E_TOWER_FLAK,  805, 1065,        0,        80,            60,        500,                     4,             3 )

myen = enemies:add( 18, E_TOWER_PULSE, 1247,  774,         0,            10,        500,                     3,             1,           0 )
myen = enemies:add( 19, E_TOWER_PULSE, 1158,  873,         0,            10,        500,                     3,             1,           0 )
myen = enemies:add( 25, E_TOWER_PULSE,  853, 1062,         0,            10,        500,                     3,             1,           0 )
myen = enemies:add( 26, E_TOWER_PULSE,  957, 1062,         0,            10,        500,                     3,             1,           0 )
myen = enemies:add( 27, E_TOWER_PULSE, 1075, 1011,         0,            10,        500,                     3,             1,           0 )
myen = enemies:add( 28, E_TOWER_PULSE, 1041, 1034,         0,            10,        500,                     3,             1,           0 )

myen = enemies:add( 42, E_TANK_FLYINGTOWER,  930,  239,        0,   E_TOWER_THREE,            20,        500,                     3,             1 )
myen.wp:add(  930,  239, 1.0, 0 )
myen.wp:add(  721,  239, 1.0, 0 )
myen = enemies:add( 43, E_TANK_FLYINGTOWER,  513,  197,        0,   E_TOWER_THREE,            20,        500,                     3,             1 )
myen.wp:add(  513,  197, 1.0, 0 )
myen.wp:add(  672,  183, 1.0, 0 )

function frapela14()
  if tuer_aktiv[ 1] == 1 then
    if ( player[1]:get_x() > 220 ) and ( player[1]:get_x() < 260 ) and ( player[1]:get_y() > 35 ) and ( player[1]:get_y() < 165 ) then
      if tuer[12]:get_maxframe() == 0 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:orange]Eine Tuer wurde geschlossen! "
        else
          text = "[f:impact14][c:orange]A door has closed! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer_aktiv[ 5] = 1
        tuer[12]:set_maxframe(3)
        tuer[12]:set_startframe(1)
        tuer[12]:set_dispframe(1)
      end
    end
    if ( player[1]:get_x() > 270 ) and ( player[1]:get_x() < 320 ) and ( player[1]:get_y() > 35 ) and ( player[1]:get_y() < 165 ) then
      if tuer[ 6]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer_aktiv[10] = 1
        tuer[ 6]:set_maxframe(0)
        tuer[ 6]:set_startframe(0)
        tuer[ 6]:set_dispframe(0)
      end
    end
  end
  if tuer_aktiv[ 2] == 1 then
    if ( player[1]:get_x() > 425 ) and ( player[1]:get_x() < 500 ) and ( player[1]:get_y() > 185 ) and ( player[1]:get_y() < 235 ) then
      if tuer[ 8]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer im Osten wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door in the east has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        --tuer_aktiv[ 8] = 1
        tuer[ 8]:set_maxframe(0)
        tuer[ 8]:set_startframe(0)
        tuer[ 8]:set_dispframe(0)
      end
    end
--    if ( player[1]:get_x() > 425 ) and ( player[1]:get_x() < 500 ) and ( player[1]:get_y() > 235 ) and ( player[1]:get_y() < 285 ) then
--    end
  end
  if tuer_aktiv[ 3] == 1 then
    if ( player[1]:get_x() > 90 ) and ( player[1]:get_x() < 250 ) and ( player[1]:get_y() > 545 ) and ( player[1]:get_y() < 595 ) then
      if tuer[ 9]:get_maxframe() == 0 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:orange]Eine Tuer wurde geschlossen! "
        else
          text = "[f:impact14][c:orange]A door has closed! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer[ 9]:set_maxframe(3)
        tuer[ 9]:set_startframe(1)
        tuer[ 9]:set_dispframe(1)
      end
    end
--    if ( player[1]:get_x() > 90 ) and ( player[1]:get_x() < 250 ) and ( player[1]:get_y() > 595 ) and ( player[1]:get_y() < 645 ) then
--    end
  end
  if tuer_aktiv[ 4] == 1 then
    if ( player[1]:get_x() > 220 ) and ( player[1]:get_x() < 270 ) and ( player[1]:get_y() > 855 ) and ( player[1]:get_y() < 985 ) then
      if tuer[11]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer im Sueden wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door in the south has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer[11]:set_maxframe(0)
        tuer[11]:set_startframe(0)
        tuer[11]:set_dispframe(0)
      end
    end
--    if ( player[1]:get_x() > 270 ) and ( player[1]:get_x() < 320 ) and ( player[1]:get_y() > 855 ) and ( player[1]:get_y() < 985 ) then
--    end
  end
  if tuer_aktiv[ 5] == 1 then
--    if ( player[1]:get_x() > 290 ) and ( player[1]:get_x() < 340 ) and ( player[1]:get_y() > 855 ) and ( player[1]:get_y() < 985 ) then
--    end
    if ( player[1]:get_x() > 340 ) and ( player[1]:get_x() < 390 ) and ( player[1]:get_y() > 855 ) and ( player[1]:get_y() < 985 ) then
      if tuer[12]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Die Heimatbasis kann wieder angeflogen werden! "
        else
          text = "[f:impact14][c:yellow]The homebase is free again! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer[12]:set_maxframe(0)
        tuer[12]:set_startframe(0)
        tuer[12]:set_dispframe(0)
      end
    end
  end
--  if tuer_aktiv[ 6] == 1 then
--    if ( player[1]:get_x() > 270 ) and ( player[1]:get_x() < 340 ) and ( player[1]:get_y() > 940 ) and ( player[1]:get_y() < 990 ) then
--    end
--    if ( player[1]:get_x() > 270 ) and ( player[1]:get_x() < 340 ) and ( player[1]:get_y() > 990 ) and ( player[1]:get_y() < 1040 ) then
--    end
--  end
  if tuer_aktiv[ 7] == 1 then
    if ( player[1]:get_x() > 655 ) and ( player[1]:get_x() < 705 ) and ( player[1]:get_y() > 850 ) and ( player[1]:get_y() < 970 ) then
      if tuer[ 1]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        --tuer_aktiv[ 1] = 1
        tuer[ 1]:set_maxframe(0)
        tuer[ 1]:set_startframe(0)
        tuer[ 1]:set_dispframe(0)
      end
    end
    if ( player[1]:get_x() > 705 ) and ( player[1]:get_x() < 755 ) and ( player[1]:get_y() > 850 ) and ( player[1]:get_y() < 970 ) then
      if tuer[ 9]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer_aktiv[ 1] = 1
        tuer[ 9]:set_maxframe(0)
        tuer[ 9]:set_startframe(0)
        tuer[ 9]:set_dispframe(0)
      end
    end
  end
  if tuer_aktiv[ 8] == 1 then
--    if ( player[1]:get_x() > 1290 ) and ( player[1]:get_x() < 1360 ) and ( player[1]:get_y() > 1005 ) and ( player[1]:get_y() < 1055 ) then
--    end
--    if ( player[1]:get_x() > 1290 ) and ( player[1]:get_x() < 1360 ) and ( player[1]:get_y() > 1055 ) and ( player[1]:get_y() < 1105 ) then
--    end
  end
  if tuer_aktiv[ 9] == 1 then
--    if ( player[1]:get_x() > 940 ) and ( player[1]:get_x() < 990 ) and ( player[1]:get_y() > 1480 ) and ( player[1]:get_y() < 1550 ) then
--    end
--    if ( player[1]:get_x() > 990 ) and ( player[1]:get_x() < 1040 ) and ( player[1]:get_y() > 1480 ) and ( player[1]:get_y() < 1550 ) then
--    end
  end
  if tuer_aktiv[10] == 1 then
--    if ( player[1]:get_x() > 1103 ) and ( player[1]:get_x() < 1153 ) and ( player[1]:get_y() > 1480 ) and ( player[1]:get_y() < 1550 ) then
--    end
    if ( player[1]:get_x() > 1153 ) and ( player[1]:get_x() < 1203 ) and ( player[1]:get_y() > 1480 ) and ( player[1]:get_y() < 1550 ) then
      if tuer[ 3]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
        else
          text = "[f:impact14][c:yellow]A door has opened! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        --tuer_aktiv[ 4] = 1
        tuer[ 3]:set_maxframe(0)
        tuer[ 3]:set_startframe(0)
        tuer[ 3]:set_dispframe(0)
      end
    end
  end
  if tuer_aktiv[11] == 1 then
--    if ( player[1]:get_x() > 1040 ) and ( player[1]:get_x() < 1110 ) and ( player[1]:get_y() > 1515 ) and ( player[1]:get_y() < 1565 ) then
--    end
--    if ( player[1]:get_x() > 1040 ) and ( player[1]:get_x() < 1110 ) and ( player[1]:get_y() > 1565 ) and ( player[1]:get_y() < 1615 ) then
--    end
  end
  if tuer_aktiv[12] == 1 then
    if ( player[1]:get_x() > 1960 ) and ( player[1]:get_x() < 2125 ) and ( player[1]:get_y() > 242 ) and ( player[1]:get_y() < 292 ) then
      if tuer[12]:get_maxframe() == 3 then
        local frapelaosd = playmap[1].osd:get_osdbit(1000)
        if (LANGUAGE == LANG_DE) then
          text = "[f:impact14][c:yellow]Sesam oeffne dich! "
        else
          text = "[f:impact14][c:yellow]This door is open! "
        end
--        frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
        tuer_aktiv[ 2] = 1
        tuer[12]:set_maxframe(0)
        tuer[12]:set_startframe(0)
        tuer[12]:set_dispframe(0)
      end
    end
--    if ( player[1]:get_x() > 1960 ) and ( player[1]:get_x() < 2125 ) and ( player[1]:get_y() > 292 ) and ( player[1]:get_y() < 342 ) then
--    end
  end
end   -- frapela14()

function hook_player_takes_cargo_0(pl, ba)
  ladung = ladung + 1
  if     pl:get_land_base() == 1 then
    tuer_aktiv[ 4] = 1
  elseif pl:get_land_base() == 2 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
    else
      text = "[f:impact14][c:yellow]A door has opened! "
    end
--    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
    tuer_aktiv[ 7] = 1
    tuer[10]:set_maxframe(0)
    tuer[10]:set_startframe(0)
    tuer[10]:set_dispframe(0)
  elseif pl:get_land_base() == 3 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
    else
      text = "[f:impact14][c:yellow]A door has opened! "
    end
--    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
    tuer_aktiv[ 7] = 1
    tuer[ 5]:set_maxframe(0)
    tuer[ 5]:set_startframe(0)
    tuer[ 5]:set_dispframe(0)
  elseif pl:get_land_base() == 4 then
  elseif pl:get_land_base() == 5 then
  elseif pl:get_land_base() == 6 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Eine Tuer wurde geoeffnet! "
    else
      text = "[f:impact14][c:yellow]A door has opened! "
    end
--    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
    tuer_aktiv[ 3] = 1
    tuer[ 2]:set_maxframe(0)
    tuer[ 2]:set_startframe(0)
    tuer[ 2]:set_dispframe(0)
  elseif pl:get_land_base() == 7 then
  end
end   -- hook_player_takes_cargo_0(pl, ba)

function hook_player_dead_0(pl)
  if pl:get_weight() > 0 then
    pl:set_mission_status(-1)
  end
end   -- hook_player_dead_0(pl)

function hook_player_returns_cargo_0(pl)
  if     ladung == 7 then
    local ende_osd = playmap[1].osd:get_osdbit(1000)
    ende_osd:clear()
    pl:set_mission_status(1)
  elseif ladung == 6 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Dir fehlt noch [c:orange]ein[c:yellow] Paket! "
    else
      text = "[f:impact14][c:yellow]You have to get [c:orange]one[c:yellow] parcel yet! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif ladung <  6 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Dir fehlen noch [c:orange]"..7 - ladung.."[c:yellow] Pakete! "
    else
      text = "[f:impact14][c:yellow]You have to get [c:orange]"..7 - ladung.."[c:yellow] parcels yet! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
end   -- hook_player_returns_cargo_0(pl)
