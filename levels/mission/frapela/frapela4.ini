-- Frapela4
-- INI file
-- created by GS-Map-Editor v0.6
-- und Frapela und Frapela sin Fru als moralische Unterstützung
-- 24.11.2002


if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end

hilfsvar = 0
aok = 0
okdist = 0

mybase = bases:add(  0, PLAYER_BASE,  815,  874 )
myob = objects:add(  0, OBJ_BUILDING1, 1098,  853 )
myob = objects:add(  1, OBJ_BUILDING3, 1050,  847 )
myob = objects:add(  2, OBJ_BUILDING_GRAV,  980,  857 )
myob = objects:add(  3, OBJ_BUILDING3,  948,  848 )
myob = objects:add(  4, OBJ_BUILDING1,  746,  855 )
myob = objects:add(  5, OBJ_BUILDING1,  708,  853 )
myob = objects:add(  6, OBJ_BUILDING1,  671,  860 )
myob = objects:add(  7, OBJ_BUILDING2,  593,  842 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
agent = enemies:add(  1, E_SHIP_BLUE1, 2171, 2315,        0,             0,          0,                     0,             0,           0 )
agent.wp:add( 2171, 2315, 1.0, 0 )

function hook_enemy_hit_0(en, weapon, hitpoints, fx, fy)
if en:get_nr() == 1 then
  if en:get_hitby() <= 99 then
    local agentosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Verdammt, ich bin getroffen! Hast du den Weg immer noch nicht frei gemacht, " .. player[1]:get_name() .. "?", 30, 4, 1)
    else
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Damnet, enemies all over!", 30, 4, 1)
    end
  else
   local agentosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Verdammt, bist du blind " .. player[1]:get_name() .. ", oder bist etwa DU der langgesuchte Saboteur???", 30, 4, 1)
    else
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Damnet, are you blind " .. player[1]:get_name() .. "?", 30, 4, 1)
    end
  end
end
end

function hook_enemy_with_enemy_0( en1, en2 )
  if en1:get_nr() == 1 then
    en2:set_hit( en2:get_maxhit() + 1 )
    agent:set_hit(en1:get_maxhit() - 1)
    local agentosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Verdammt, ab jetzt ist jeder weitere Gegner-Kontakt toedlich! Passen Sie doch besser auf, " .. player[1]:get_name() .. "!", 30, 4, 1)
    else
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Damnet, an other enemy-kontact and I will be dead! Pay attention, " .. player[1]:get_name() .. "!", 30, 4, 1)
    end
  elseif en2:get_nr() == 1 then
    en1:set_hit( en1:get_maxhit() + 1 )
    agent:set_hit(en2:get_maxhit() - 1)
    local agentosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Verdammt, ab jetzt ist jeder weitere Gegner-Kontakt toedlich! Passen Sie doch besser auf, " .. player[1]:get_name() .. "!", 30, 4, 1)
    else
      agentosd:draw_typewriter_text("[center][f:impact10][c:white]Spezial-Agent:[c:yellow] Damnet, an other enemy-kontact and I will be dead! Pay attention, " .. player[1]:get_name() .. "!", 30, 4, 1)
    end
  end
end

function hook_player_with_enemy_0(pl, en)
koll=1
end

-- Respawning Extras
dofile("./levels/libextra.sc")
add_respawning_extra(3244, 2907, 10, 80)

-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  1, SPOBJ_TELEPORT1, 3190, 2890,             2 )
myob = objects:add_special(  2, SPOBJ_TELEPORT1, 2335,  563,             1 )
myob = objects:add_special(  3, SPOBJ_TELEPORT1,  541, 2327,             3 )
myob = objects:add_special(  4, SPOBJ_TELEPORT1,  541, 2097,             4 )
myob = objects:add_special(  5, SPOBJ_TELEPORT1,  541, 2211,             5 )


---------------------------------------------------------------------------------------------------
-- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER -- GEGNER 
---------------------------------------------------------------------------------------------------


-- E_TOWER_PULSE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  2, E_TOWER_PULSE, 1503, 1063,         1,            10,        600,                     3,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  3, E_TOWER_FLAK, 1441, 1063,        1,        80,            60,        600,                     3,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  4, E_TOWER_FLAK, 1565, 1061,        1,        80,            60,        600,                     3,             3 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  5, E_TOWER_THREE, 1370, 1061,         1,            60,        600,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  6, E_TOWER_THREE, 1641, 1065,         1,            60,        600,                     2,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  7, E_TOWER_SINGLE, 2317,  915,        0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  8, E_TOWER_FLAK, 2125, 1061,        0,        80,            60,       1200,                     3,             3 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  9, E_TOWER_THREE, 2069, 1065,         0,            60,        800,                     2,             1,           0 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 10, E_TANK_FLYINGTOWER, 1686, 1144,        0,    E_TOWER_PULSE,            10,        800,                     3,             1 )
myen.wp:add( 1686, 1144, 1.0, 0 )
myen.wp:add( 1739, 1191, 1.0, 0 )
myen.wp:add( 1994, 1191, 1.0, 0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 11, E_SHIP_BLUE2, 2250,  599,         0,            80,       1200,                     2,             2,           0 )
myen.wp:add( 2250,  599, 1.0, 0 )
myen.wp:add( 2178,  939, 1.0, 0 )
myen.wp:add( 1882,  855, 1.0, 0 )
myen.wp:add( 2267,  855, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 12, E_TOWER_SINGLE, 2251, 1004,        0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 13, E_TOWER_SINGLE, 1065, 1097,        1,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 14, E_TOWER_SINGLE, 1146, 1100,        1,   D_DOWN,            60,        800,                     2,             1 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 15, E_TANK_FLYINGTOWER,  893, 1243,        1,   E_TOWER_SINGLE,            10,        800,                     2,             1 )
myen.wp:add(  893, 1243, 1.0, 0 )
myen.wp:add( 1043, 1243, 1.0, 0 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 16, E_TANK_FLYINGTOWER,  869, 1243,        1,   E_TOWER_THREE,            60,        800,                     2,             1 )
myen.wp:add(  869, 1243, 1.0, 0 )
myen.wp:add(  725, 1243, 1.0, 0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 17, E_SHIP_BLUE2,  733, 1401,         0,            80,       1200,                     2,             2,           0 )
myen.wp:add(  733, 1401, 1.0, 0 )
myen.wp:add(  705, 1589, 1.0, 0 )

-- E_TOWER_PULSE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 18, E_TOWER_PULSE,  565, 1449,         1,            10,        800,                     3,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 19, E_TOWER_SINGLE,  587, 1445,        1,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 20, E_TOWER_SINGLE,  536, 1450,        1,     D_UP,            60,        800,                     2,             1 )

-- E_SHIP_BIGRED, Parameter:                       signatur, [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt]
myen = enemies:add( 21, E_SHIP_BIGRED,  814, 1726,        0,           0,           0,           0,           0,           0 )
myen.wp:add(  814, 1726, 1.0, 0 )
myen.wp:add(  814, 1539, 1.0, 0 )
myen.wp:add(  887, 1646, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 22, E_TOWER_SINGLE, 1198, 1863,        1,     D_UP,            60,        800,                     2,             1 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 23, E_TANK_FLYINGTOWER, 1171, 1819,        1,   E_TOWER_THREE,            60,        800,                     2,             1 )
myen.wp:add( 1171, 1819, 1.0, 0 )
myen.wp:add( 1056, 1704, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 24, E_TOWER_SINGLE, 1343, 2104,        1,     D_UP,            60,        800,                     2,             1 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 25, E_TANK_FLYINGTOWER, 1320, 2064,        1,   E_TOWER_SINGLE,            10,        800,                     2,             1 )
myen.wp:add( 1320, 2064, 1.0, 0 )
myen.wp:add( 1207, 1952, 1.0, 0 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 26, E_TOWER_SINGLE,  522, 2159,        0,   D_RIGHT,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 27, E_TOWER_SINGLE,  517, 2247,        0,   D_RIGHT,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 28, E_TOWER_SINGLE,  522, 2186,        0,   D_RIGHT,            60,        800,                     2,             1 )

-- E_TOWER_PULSE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 29, E_TOWER_PULSE,  838, 2363,         0,            10,        800,                     3,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 30, E_TOWER_FLAK,  889, 2360,        0,        80,            60,        800,                     2,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 31, E_TOWER_FLAK,  788, 2356,        0,        80,            60,        800,                     2,             3 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 32, E_TOWER_THREE,  936, 2363,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 33, E_TOWER_THREE,  746, 2362,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 34, E_TOWER_FLAK,  699, 2358,        0,        80,            60,        800,                     2,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 35, E_TOWER_FLAK,  987, 2362,        0,        80,            60,        800,                     2,             3 )

-- E_TOWER_PULSE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 36, E_TOWER_PULSE,  637, 2359,         0,            10,        800,                     3,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 37, E_TOWER_SINGLE,  961, 2070,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 38, E_TOWER_SINGLE,  915, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 39, E_TOWER_SINGLE,  866, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 40, E_TOWER_SINGLE,  768, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 41, E_TOWER_SINGLE,  814, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 42, E_TOWER_SINGLE,  726, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 43, E_TOWER_SINGLE,  667, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 44, E_TOWER_SINGLE,  609, 2071,        0,   D_DOWN,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 45, E_TOWER_SINGLE,  521, 2131,        0,   D_RIGHT,            60,        500,                     2,             1 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 46, E_TANK_FLYINGTOWER, 1059, 2350,        1,   E_TOWER_SINGLE,            10,        500,                     2,             1 )
myen.wp:add( 1059, 2350, 1.0, 0 )
myen.wp:add( 1333, 2350, 1.0, 0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 47, E_TOWER_THREE, 1437, 2304,         1,            60,        800,                     2,             1,           0 )

-- E_TOWER_PULSE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 48, E_TOWER_PULSE, 1496, 2212,         1,            10,        800,                     3,             1,           0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 49, E_SHIP_BLUE2, 1653, 1538,         1,            80,       1200,                     2,             2,           0 )
myen.wp:add( 1653, 1538, 1.0, 0 )
myen.wp:add( 1485, 1395, 1.0, 0 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 50, E_TANK_FLYINGTOWER, 2011, 1533,        1,   E_TOWER_THREE,            60,        800,                     2,             1 )
myen.wp:add( 2011, 1533, 1.0, 0 )
myen.wp:add( 2155, 1533, 1.0, 0 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 51, E_TANK_FLYINGTOWER, 1989, 1533,        1,   E_TOWER_THREE,            60,        800,                     2,             1 )
myen.wp:add( 1989, 1533, 1.0, 0 )
myen.wp:add( 1865, 1533, 1.0, 0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 52, E_TOWER_THREE, 1823, 1537,         1,            60,        800,                     2,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 53, E_TOWER_SINGLE, 1729, 1871,        1,   D_RIGHT,            60,        800,                     2,             1 )

-- E_SHIP_BIGRED, Parameter:                       signatur, [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt]
myen = enemies:add( 54, E_SHIP_BIGRED, 2250, 1497,        0,           0,           0,           0,           0,           0 )
myen.wp:add( 2250, 1497, 1.0, 0 )
myen.wp:add( 2250, 1761, 1.0, 0 )
myen.wp:add( 1947, 1761, 1.0, 0 )
myen.wp:add( 2250, 1761, 1.0, 0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 55, E_SHIP_BLUE2, 1829, 1893,         1,            80,       1200,                     2,             2,           0 )
myen.wp:add( 1829, 1893, 1.0, 0 )
myen.wp:add( 1829, 2043, 1.0, 0 )
myen.wp:add( 2151, 2043, 1.0, 0 )
myen.wp:add( 1829, 2043, 1.0, 0 )