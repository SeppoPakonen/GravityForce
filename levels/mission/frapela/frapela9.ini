-- INI-Datei
-- Frapela13
-- von Frapela
-- 01.09.2003

if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end

globals.score_per_second = 0
globals.extra_amount     = 0

kl_rot_bild  = images:load("./frapela/kl_rot.bmp")
kl_gelb_bild = images:load("./frapela/kl_gelb.bmp")

ladung     = 0
hilfsvar_1 = 0

myen = enemies:add(  1, E_TOWER_THREE,  479,  971,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  2, E_TOWER_THREE,  431,  971,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  3, E_TOWER_THREE,  383,  971,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  4, E_TOWER_THREE,  336,  971,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  5, E_TOWER_THREE,  287,  971,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  6, E_TOWER_THREE,  163,  970,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  7, E_TOWER_THREE,  197,  973,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add(  8, E_TOWER_PULSE,  223,  967,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add(  9, E_TOWER_PULSE,  262,  967,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 10, E_TOWER_PULSE,  311,  966,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 11, E_TOWER_FLAK,  243,  965,        0,        80,            60,        800,                     2,             4 )
myen = enemies:add( 12, E_TOWER_FLAK,  357,  963,        0,        80,            60,        800,                     2,             4 )
myen = enemies:add( 13, E_TOWER_FLAK,  407,  963,        0,        80,            60,        800,                     2,             4 )
myen = enemies:add( 14, E_TOWER_FLAK,  453,  963,        0,        80,            60,        800,                     2,             4 )
myen = enemies:add( 15, E_TOWER_PULSE,  177,  968,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 16, E_TOWER_PULSE,  141,  966,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 17, E_TOWER_FLAK,   94,  973,        0,        80,            60,        800,                     2,             4 )
myen = enemies:add( 18, E_TOWER_THREE,  117,  977,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add( 19, E_TOWER_THREE,   68,  974,         0,            60,        500,                     3,             3,           0 )
myen = enemies:add( 20, E_USER, random(   44,  445 ), random(  530,  655 ), 0, kl_rot_bild,  120, -1000, -1000, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(   44,  445 ), random(  530,  655 ), random() + 0.7, 0 )
end
myen = enemies:add( 90, E_USER, random(   44,  445 ), random(  530,  655 ), 0, kl_rot_bild,  120, -1000, -1000, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(   44,  445 ), random(  530,  655 ), random() + 0.7, 0 )
end
myen = enemies:add( 91, E_USER, random(   44,  445 ), random(  530,  655 ), 0, kl_gelb_bild,   60, 0, 0, 2, W_ROCKET )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(   44,  445 ), random(  530,  655 ), random() + 0.7, 0 )
end
myen = enemies:add( 21, E_TOWER_SINGLE,   33,  685,        0,   D_RIGHT,            42,        500,                     2,             2 )
myen = enemies:add( 22, E_TOWER_SINGLE,   33,  705,        0,   D_RIGHT,            45,        500,                     2,             2 )
myen = enemies:add( 23, E_TOWER_SINGLE,   32,  725,        0,   D_RIGHT,            48,        500,                     2,             2 )
myen = enemies:add( 24, E_TOWER_SINGLE,   33,  745,        0,   D_RIGHT,            51,        500,                     2,             2 )
myen = enemies:add( 25, E_TOWER_SINGLE,   33,  765,        0,   D_RIGHT,            54,        500,                     2,             2 )
myen = enemies:add( 26, E_TOWER_SINGLE,   33,  785,        0,   D_RIGHT,            57,        500,                     2,             2 )
myen = enemies:add( 27, E_TOWER_SINGLE,   33,  805,        0,   D_RIGHT,            60,        500,                     2,             2 )
myen = enemies:add( 28, E_TOWER_SINGLE,  335,  695,        0,   D_LEFT,             45,        500,                     2,             2 )
myen = enemies:add( 29, E_TOWER_SINGLE,  335,  715,        0,   D_LEFT,             48,        500,                     2,             2 )
myen = enemies:add( 30, E_TOWER_SINGLE,  335,  735,        0,   D_LEFT,             51,        500,                     2,             2 )
myen = enemies:add( 31, E_TOWER_SINGLE,  339,  795,        0,   D_LEFT,             54,        500,                     2,             2 )
myen = enemies:add( 32, E_TOWER_SINGLE,  336,  775,        0,   D_LEFT,             57,        500,                     2,             2 )
myen = enemies:add( 33, E_TOWER_SINGLE,  336,  755,        0,   D_LEFT,             60,        500,                     2,             2 )
myen = enemies:add( 34, E_USER, random(   43,  104 ), random(  385,  505 ), 0, kl_gelb_bild,   60, 0, 1, 2, W_ROCKET )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(   43,  104 ), random(  385,  505 ), random() + 0.7, 0 )
end
myen = enemies:add( 35, E_USER, 36, 170, 0, kl_gelb_bild,   60, 1, 0, 2, W_ROCKET )
myen:set_maxhit( 30 )
myen.wp:add(   36,   47, 1.7, 0 )
myen.wp:add(   36,  170, 1.7, 0 )
myen = enemies:add( 36, E_USER, 205, 47, 0, kl_gelb_bild,   60, -2, 0, 2, W_ROCKET )
myen:set_maxhit( 30 )
myen.wp:add(  205,   47, 1.7, 0 )
myen.wp:add(  205,  170, 1.7, 0 )
myen = enemies:add( 37, E_TOWER_SINGLE,  140,   34,        0,   D_DOWN,            60,       1500,                     3,             2 )
myen = enemies:add( 38, E_TOWER_SINGLE,   99,   37,        0,   D_DOWN,            60,       1500,                     3,             2 )
myen = enemies:add( 39, E_TOWER_SINGLE,  120,   38,        0,   D_DOWN,            60,       1500,                     3,             2 )
myen = enemies:add( 40, E_TOWER_SINGLE,  161,  196,        0,     D_UP,            60,        500,                     2,             2 )
myen = enemies:add( 41, E_USER, random(  155,  610 ), random(  290,  365 ), 0, kl_gelb_bild,   60, 0, 0, 2, W_ROCKET )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  155,  610 ), random(  290,  365 ), random() + 0.7, 0 )
end
myen = enemies:add( 92, E_USER, random(  155,  610 ), random(  290,  365 ), 0, kl_rot_bild,  120, 0, 0, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  155,  610 ), random(  290,  365 ), random() + 0.7, 0 )
end
myen = enemies:add( 42, E_USER, random(  875, 1119 ), random(  290,  367 ), 0, kl_rot_bild,  120, 0, 0, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  875, 1119 ), random(  290,  367 ), random() + 0.7, 0 )
end
myen = enemies:add( 43, E_USER, random(  825, 1119 ), random(   49,  120 ), 0, kl_rot_bild,  120, 0, 0, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  825, 1119 ), random(   49,  120 ), random() + 0.7, 0 )
end
myen = enemies:add( 44, E_USER, random(  375,  660 ), random(   49,  121 ), 0, kl_gelb_bild,   60, 0, 0, 2, W_ROCKET )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  375,  660 ), random(   49,  121 ), random() + 0.7, 0 )
end
myen = enemies:add( 93, E_USER, random(  375,  660 ), random(   49,  121 ), 0, kl_rot_bild,  120, 0, 0, 2, W_PROBE )
myen:set_maxhit( 30 )
local n
for n = 1, 12 do
  myen.wp:add( random(  375,  660 ), random(   49,  121 ), random() + 0.7, 0 )
end
myen = enemies:add( 45, E_TOWER_FLAK,  715,  583,        0,        80,            60,        800,                     4,             4 )
myen = enemies:add( 46, E_TOWER_FLAK,  730,  583,        0,        78,            60,        800,                     4,             4 )
myen = enemies:add( 47, E_TOWER_FLAK,  745,  582,        0,        76,            60,        800,                     4,             4 )
myen = enemies:add( 48, E_TOWER_FLAK,  760,  581,        0,        74,            60,        800,                     4,             4 )
myen = enemies:add( 49, E_TOWER_FLAK,  775,  581,        0,        72,            60,        800,                     4,             4 )
myen = enemies:add( 50, E_TOWER_FLAK,  790,  581,        0,        70,            60,        800,                     4,             4 )
myen = enemies:add( 51, E_TOWER_FLAK,  805,  581,        0,        68,            60,        800,                     4,             4 )
myen = enemies:add( 52, E_TOWER_THREE,  663,  584,         0,            60,       1500,                     3,             3,           0 )
myen = enemies:add( 53, E_TOWER_THREE,  861,  585,         0,            60,       1500,                     3,             3,           0 )
myen = enemies:add( 54, E_TOWER_PULSE,  676,  586,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 55, E_TOWER_PULSE,  695,  585,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 56, E_TOWER_PULSE,  825,  582,         0,            15,        600,                     3,             4,           0 )
myen = enemies:add( 57, E_TOWER_PULSE,  843,  582,         0,            15,        600,                     3,             4,           0 )
mybase = bases:add(  0, PLAYER_BASE, 1082,  970 )
mybase = bases:add(  1, CARGO_BASE,  666, 3994 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-0)*5) )
mybase = bases:add(  2, CARGO_BASE, 2252, 2410 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-0)*5) )
mybase = bases:add(  3, CARGO_BASE, 3839,  826 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-0)*5) )
mybase = bases:add(  4, CARGO_BASE, 3838, 3994 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-0)*5) )
mybase = bases:add(  5, CARGO_BASE,  178,  202 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-1)*5) )
mybase = bases:add(  6, CARGO_BASE,  388,  155 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-1)*5) )
mybase = bases:add(  7, CARGO_BASE, 1091,  154 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-1)*5) )
mybase = bases:add(  8, CARGO_BASE, 1082,  401 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-1)*5) )
mybase = bases:add(  9, CARGO_BASE,  418,  684 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( ladung^2*10/7+((ladung+1-1)*5) )
myen = enemies:add( 58, E_USER,  625,  672, 0, kl_gelb_bild, 180, 0, 0, 1, W_ROCKET )
myen:set_maxhit( 30 )
myen.wp:add(  625,  672, 1.7, 0 )
myen.wp:add( 1120,  672, 1.7, 0 )
myen = enemies:add( 59, E_USER, 1120,  703, 0, kl_gelb_bild, 180, 1, 0, 1, W_ROCKET )
myen:set_maxhit( 30 )
myen.wp:add(  625,  703, 1.7, 0 )
myen.wp:add( 1120,  703, 1.7, 0 )
--myen = enemies:add( 60, E_TOWER_FLAK,  761, 1013,        0,        80,            60,        500,                     3,             3 )
myen = enemies:add( 61, E_TOWER_FLAK,  637, 1012,        0,        80,            60,        800,                     4,             4 )
myen = enemies:add( 62, E_TOWER_FLAK,  625, 1012,        0,        80,            60,        800,                     3,             4 )
myen = enemies:add( 63, E_TOWER_FLAK,  681, 1162,        0,        80,            60,        800,                     5,             4 )
myen = enemies:add( 64, E_TOWER_FLAK,  701, 1161,        0,        80,            60,        800,                     5,             4 )
myen = enemies:add( 65, E_TOWER_PULSE,  666, 1162,         0,            15,        800,                     3,             4,           0 )
myen = enemies:add( 66, E_TOWER_PULSE,  720, 1161,         0,            15,        800,                     3,             4,           0 )
myen = enemies:add( 67, E_TOWER_THREE,  575, 1019,         0,            60,        800,                     3,             3,           0 )
myen = enemies:add( 68, E_TOWER_FLAK,  613, 1012,        0,        80,            60,        300,                     2,             4 )
myen = enemies:add( 69, E_TOWER_FLAK,  803,  866,        0,        80,            60,        300,                     2,             4 )
myen = enemies:add( 70, E_TOWER_FLAK,  996,  870,        0,        80,            60,        300,                     2,             4 )
myen = enemies:add( 71, E_TOWER_THREE,  789,  868,         0,            60,        300,                     3,             3,           0 )
myen = enemies:add( 72, E_TOWER_THREE, 1020,  872,         0,            60,        300,                     3,             3,           0 )
myen = enemies:add( 73, E_TOWER_PULSE,  957,  871,         0,            15,        300,                     3,             4,           0 )
myen = enemies:add( 74, E_TOWER_PULSE,  862,  869,         0,            15,        300,                     3,             4,           0 )
myen = enemies:add( 75, E_TOWER_FLAK,  911,  872,        0,        80,            60,        300,                     2,             4 )
myen = enemies:add( 76, E_TOWER_THREE,  888,  873,         0,            60,        300,                     3,             3,           0 )
myen = enemies:add( 77, E_TOWER_THREE,  936,  874,         0,            60,        300,                     3,             3,           0 )
myen = enemies:add( 78, E_TOWER_SINGLE,  833,  867,        0,      D_UP,            60,        500,                     2,             2 )
myen = enemies:add( 79, E_TOWER_SINGLE,  979,  871,        0,      D_UP,            60,        500,                     2,             2 )
myen = enemies:add( 80, E_TOWER_SINGLE,  607,  859,        0,   D_RIGHT,            60,       1500,                     2,             2 )
myen = enemies:add( 81, E_TOWER_SINGLE,  609,  816,        0,   D_RIGHT,            60,       1500,                     2,             2 )
myen = enemies:add( 82, E_TOWER_SINGLE,  578,  730,        0,   D_RIGHT,            60,       1500,                     2,             2 )
myen = enemies:add( 83, E_TOWER_SINGLE,  597,  775,        0,   D_RIGHT,            60,       1500,                     2,             2 )
myen = enemies:add( 84, E_TOWER_THREE,  695, 1163,         0,            60,        800,                     3,             3,           0 )

function frapela13()
  if ( player[1]:get_y() > 1400 ) and ( hilfsvar_1 == 0 ) then
    hilfsvar_1 = 1
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Du bist auf dem richtigen Weg! Flieg' weiter nach Sueden! "
    else
      text = "[f:impact14][c:orange]You are on the right way! Fly to the south! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
end   -- frapela13()

function hook_player_land_0(pl, ba)
  if     pl:get_land_base() == 1 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' weiter nach Osten ODER nach Nord-Osten! "
    else
      text = "[f:impact14][c:orange]Fly to the east OR to the north-east! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 2 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' weiter nach Sued-Osten ODER nach Nord-Osten ODER nach Sued-Westen! "
    else
      text = "[f:impact14][c:orange]Fly to the south-east OR to the north-east OR to the south-west! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 3 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' weiter nach Sueden ODER nach Sued-Westen! "
    else
      text = "[f:impact14][c:orange]Fly to the south OR to the south-west! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 4 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' weiter nach Westen ODER nach Nord-Westen ODER nach Norden! "
    else
      text = "[f:impact14][c:orange]Fly to the west OR to the north-west OR to the north! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 5 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Eins der Fracht-Pakete, die du suchst, befindet sich genau sued-oestlich von hier! "
    else
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]One of the cargo-parcels, you look for, is exactly in the south-east! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 6 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Alle Fracht-Pakete, die du suchst, befinden sich viel, viel, viel weiter sued-oestlich! "
    else
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Every cargo-parcels, you look for, is much, much, much more south-eastern! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 7 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Alle Fracht-Pakete, die du suchst, befinden sich viel, viel, viel weiter suedlich! "
    else
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Every cargo-parcels, you look for, is much, much, much more southern! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 8 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Die Koordinaten, an denen du eins der Fracht-Pakete findst, lauten: ( FFA, FFB )! "
    else
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]The koordinates, where you can get one of the cargo-parcels, is: ( FFA, FFB )! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 9 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]Auf Basen mit kleinen Paketen erhaelst du ausschliesslich Informationen! "
    else
      text = "[f:impact10][c:white]INFO-TERMINAL: [c:orange]On bases with little parcels you only get informations! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end

  if ( ladung == 4 ) and ( pl:get_land_base() > 0 ) and ( pl:get_land_base() < 5 ) then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' zurueck zur Heimatbasis! "
    else
      text = "[f:impact14][c:orange]Return to homebase! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
end   -- hook_player_land_0(pl, ba)

function hook_player_takes_cargo_0(pl, ba)
  if     pl:get_land_base() == 1 then
    ladung = ladung + 1
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' genau nach Osten ODER nach Nord-Osten! "
    else
      text = "[f:impact14][c:orange]Fly exactly to the east OR to the north-east! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 2 then
    ladung = ladung + 1
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' genau nach Sued-Osten ODER nach Nord-Osten ODER nach Sued-Westen! "
    else
      text = "[f:impact14][c:orange]Fly exactly to the south-east OR to the north-east OR to the south-west! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 3 then
    ladung = ladung + 1
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' genau nach Sueden ODER nach Sued-Westen! "
    else
      text = "[f:impact14][c:orange]Fly exactly to the south OR to the south-west! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif pl:get_land_base() == 4 then
    ladung = ladung + 1
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' genau nach Westen ODER nach Nord-Westen ODER nach Norden! "
    else
      text = "[f:impact14][c:orange]Fly exactly to the west OR to the north-west OR to the north! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
  if ladung == 4 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:orange]Flieg' zurueck zur Heimatbasis! "
    else
      text = "[f:impact14][c:orange]Return to homebase! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
end   -- hook_player_takes_cargo_0(pl, ba)

function hook_player_dead_0(pl)
  if pl:get_weight() > 0 then
    pl:set_mission_status(-1)
  end
end   -- hook_player_dead_0(pl)

function hook_player_returns_cargo_0(pl)
  if     ladung == 4 then
    local ende_osd = playmap[1].osd:get_osdbit(1000)
    ende_osd:clear()
    pl:set_mission_status(1)
  elseif ladung == 3 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Dir fehlt noch [c:orange]ein[c:yellow] Paket! "
    else
      text = "[f:impact14][c:yellow]You have to get [c:orange]one[c:yellow] parcel yet! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  elseif ladung <  3 then
    local frapelaosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      text = "[f:impact14][c:yellow]Dir fehlen noch [c:orange]"..4 - ladung.."[c:yellow] Pakete! "
    else
      text = "[f:impact14][c:yellow]You have to get [c:orange]"..4 - ladung.."[c:yellow] parcels yet! "
    end
    frapelaosd:draw_typewriter_text( text, 5, 5, 0 )
  end
end   -- hook_player_returns_cargo_0(pl)

function hook_enemy_dead_0(en)
  if en:get_type() == E_USER then
    gsound:play_sound(SOUND_EXPL_BIG1, 100)
    -- player[1]:dec_enemy_bonus(50)
  end
end   -- hook_enemy_dead_0(en)

function hook_enemy_hit_0(en, weapon, hitpoints, fx, fy)
  en:set_maxhit( en:get_maxhit() + hitpoints - 1 )
  if en:get_type() == E_USER then
    gsound:play_sound(SOUND_SHIP_HIT, 100)
  end
end   -- hook_enemy_hit_0(en, weapon, hitpoints, fx, fy)














