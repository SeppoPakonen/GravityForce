-- Frapela 12
-- INI-Datei
-- created by GS-Map-Editor v. 0.7
-- und Frapela
-- 04. Oktober 2004

globals.score_per_second = 1
globals.extra_amount     = 0

mybase = bases:add(  0, PLAYER_BASE, 1397, 1700 )

mybase = bases:add(  1, CARGO_BASE, 1623,  812 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  2, CARGO_BASE,  939, 1341 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  3, CARGO_BASE,  977, 1677 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  4, CARGO_BASE,  641, 1821 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  5, CARGO_BASE, 1504,  644 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  6, CARGO_BASE,  976,  668 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  7, CARGO_BASE,  737,  668 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  8, CARGO_BASE,  544, 1028 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add(  9, CARGO_BASE, 1024, 1028 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )
mybase = bases:add( 10, CARGO_BASE,  880, 1028 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight( 5 )

-- Frachtfunktionen einbinden
frachtgewicht = 50
function hook_player_returns_cargo_0( pl )
  frachtgewicht = frachtgewicht - pl:get_weight()
  if frachtgewicht <= 0 then
    local hilfs_osd = playmap[1].osd:get_osdbit(1000)
    hilfs_osd:clear()
    pl:set_mission_status( 1 )
  end
  local pakete = frachtgewicht / 5
  if pakete >= 1 then
    local paketosd = playmap[1].osd:get_osdbit(1000)
    if (LANGUAGE == LANG_DE) then
      zufi = math.random( 1, 13)
      if     zufi ==  1 then
        ausruf = "Na endlich"
      elseif zufi ==  2 then
        ausruf = "Na also"
      elseif zufi ==  3 then
        ausruf = "Nun denn"
      elseif zufi ==  4 then
        ausruf = "Nun mach schon"
      elseif zufi ==  5 then
        ausruf = "Na siehst du"
      elseif zufi ==  6 then
        ausruf = "Klasse"
      elseif zufi ==  7 then
        ausruf = "Perfekt"
      elseif zufi ==  8 then
        ausruf = "Super"
      elseif zufi ==  9 then
        ausruf = "Nun gut"
      elseif zufi == 10 then
        ausruf = "Sauber"
      elseif zufi == 11 then
        ausruf = "Spitze"
      elseif zufi == 12 then
        ausruf = "Toll"
      elseif zufi == 13 then
        ausruf = "Bravo"
      end
      if pakete >= 2 then
        paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]" .. ausruf .. ", " .. player[1]:get_name() .. "! Es sind noch [c:orange]".. pakete.."[c:yellow] Kontainer einzusammeln! Also gib Gas!", 30, 4, 1)
      else
        paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]" .. ausruf .. ", " .. player[1]:get_name() .. "! Es ist noch [c:orange]ein[c:yellow] Kontainer einzusammeln! Also gib Alles!", 30, 4, 1)
      end
    else 
      if pakete >= 2 then
        paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. "! Now you only must fetch [c:white]".. pakete.."[c:yellow] containers! Go on!", 30, 5, 0)
      else
        paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. "! Now you only must fetch [c:white]one[c:yellow] container! Go on!", 30, 5, 0)
      end
    end 
  end
end
function hook_player_dead_0( pl )
  if pl:get_weight() > 0 then
    pl:set_mission_status( -1 )
  end
end

if math.random() < 0.5 then
  f_s_lr = objects:add( 301, images:load("./frapela/f_s_lr.tga"),  866,  631, 0, math.random( 3, 5 ) )
else
  f_s_rl = objects:add( 301, images:load("./frapela/f_s_rl.tga"),  866,  631, 0, math.random( 3, 5 ) )
end
if math.random() < 0.5 then
  f_s_lr = objects:add( 302, images:load("./frapela/f_s_lr.tga"), 1922,  656, 0, math.random( 3, 5 ) )
else
  f_s_rl = objects:add( 302, images:load("./frapela/f_s_rl.tga"), 1922,  656, 0, math.random( 3, 5 ) )
end
if math.random() < 0.5 then
  f_s_lr = objects:add( 303, images:load("./frapela/f_s_lr.tga"), 1922, 1111, 0, math.random( 3, 5 ) )
else
  f_s_rl = objects:add( 303, images:load("./frapela/f_s_rl.tga"), 1922, 1111, 0, math.random( 3, 5 ) )
end
if math.random() < 0.5 then
  f_s_lr = objects:add( 304, images:load("./frapela/f_s_lr.tga"), 1682, 1087, 0, math.random( 3, 5 ) )
else
  f_s_rl = objects:add( 304, images:load("./frapela/f_s_rl.tga"), 1682, 1087, 0, math.random( 3, 5 ) )
end
if math.random() < 0.5 then
  f_lr   = objects:add( 305, images:load("./frapela/f_lr.tga"),   1444, 1092, 0, math.random( 3, 5 ) )
else
  f_rl   = objects:add( 305, images:load("./frapela/f_rl.tga"),   1444, 1092, 0, math.random( 3, 5 ) )
end
lava_s   = objects:add( 306, images:load("./frapela/lava_s.tga"),  726, 1008, 0, math.random( 4, 6 ) )
lava     = objects:add( 307, images:load("./frapela/lava.tga"),   1488, 1706, 0, math.random( 4, 6 ) )
lava     = objects:add( 308, images:load("./frapela/lava.tga"),   1531, 1706, 0, math.random( 4, 6 ) )
lava     = objects:add( 309, images:load("./frapela/lava.tga"),   1607, 1706, 0, math.random( 4, 6 ) )
lava     = objects:add( 310, images:load("./frapela/lava.tga"),   1650, 1706, 0, math.random( 4, 6 ) )

ton_alarm = gsound:load_sound("./frapela/_alarm.wav")

myen = enemies:add(  1, E_SHIP_BLUE2, 1972, 1250,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1972, 1993 ), math.random( 1250, 1508 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  2, E_SHIP_BLUE2, 2016,  869,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 2016, 2075 ), math.random(  869, 1100 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  3, E_SHIP_BLUE2, 1042, 1266,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1042, 1116 ), math.random( 1266, 1360 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  4, E_SHIP_BLUE2, 1059, 1422,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1059, 1116 ), math.random( 1422, 1488 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  5, E_SHIP_BLUE2, 1970,  530,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1970, 2169 ), math.random(  530,  626 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  6, E_SHIP_BLUE2, 1131,  554,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1131, 1212 ), math.random(  554,  841 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  7, E_SHIP_BLUE2,  531,  531,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  531,  540 ), math.random(  531,  965 ), math.random() + 0.7, 0 )
end

myen = enemies:add(  8, E_SHIP_BLUE1, 1730, 1587,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1730, 1779 ), math.random( 1587, 1654 ), math.random() + 0.7, 0 )
end
myen = enemies:add(  9, E_SHIP_BLUE1, 1515,  915,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1515, 1635 ), math.random(  915, 1077 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 10, E_SHIP_BLUE1, 1467,  722,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1467, 1490 ), math.random(  722,  888 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 11, E_SHIP_BLUE1,  866, 1587,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  866, 1023 ), math.random( 1587, 1640 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 12, E_SHIP_BLUE1,  613, 1659,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  613,  689 ), math.random( 1659, 1780 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 13, E_SHIP_BLUE1, 1578,  530,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1578, 1876 ), math.random(  530,  620 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 14, E_SHIP_BLUE1, 1298,  530,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random( 1298, 1533 ), math.random(  530,  598 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 15, E_SHIP_BLUE1,  912,  530,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  912, 1087 ), math.random(  530,  622 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 16, E_SHIP_BLUE1,  712,  530,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  712,  820 ), math.random(  530,  622 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 17, E_SHIP_BLUE1,  625,  867,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  625,  680 ), math.random(  867,  996 ), math.random() + 0.7, 0 )
end
myen = enemies:add( 18, E_SHIP_BLUE1,  812,  867,         0,            80,        800,                     2,             2,           0 )
for n = 1, 20 do
  myen.wp:add( math.random(  812, 1078 ), math.random(  867,  982 ), math.random() + 0.7, 0 )
end

myen = enemies:add( 19, E_TOWER_THREE, 1920, 1627,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 20, E_TOWER_THREE, 1820, 1677,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 21, E_TOWER_THREE, 1869, 1653,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 22, E_TOWER_THREE, 1965, 1605,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 23, E_TOWER_THREE, 2010, 1147,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 24, E_TOWER_THREE, 1773, 1078,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 25, E_TOWER_THREE, 1876, 1125,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 26, E_TOWER_THREE, 1609,  812,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 27, E_TOWER_THREE, 1694,  812,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 28, E_TOWER_THREE, 1297, 1220,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 29, E_TOWER_THREE, 1391, 1124,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 30, E_TOWER_THREE, 1050, 1677,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 31, E_TOWER_THREE,  959, 1677,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 32, E_TOWER_THREE,  767, 1772,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 33, E_TOWER_THREE,  626, 1821,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 34, E_TOWER_THREE,  712, 1821,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 35, E_TOWER_THREE,  864, 1724,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 36, E_TOWER_THREE, 2207,  716,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 37, E_TOWER_THREE, 2012,  693,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 38, E_TOWER_THREE, 1867,  644,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 39, E_TOWER_THREE, 1485,  644,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 40, E_TOWER_THREE, 1122,  644,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 41, E_TOWER_THREE,  823,  668,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 42, E_TOWER_THREE,  625,  716,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 43, E_TOWER_THREE,  959,  668,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 44, E_TOWER_THREE, 1051,  668,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 45, E_TOWER_THREE,  617, 1028,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 46, E_TOWER_THREE, 1100, 1028,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 47, E_TOWER_THREE, 1007, 1028,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 48, E_TOWER_THREE,  954, 1028,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 49, E_TOWER_THREE,  861, 1028,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 50, E_TOWER_THREE, 1293,  907,         0,            60,        500,                     2,             1,           0 )

myen = enemies:add( 51, E_TOWER_SINGLE,  502,  813,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 52, E_TOWER_SINGLE,  480,  958,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 53, E_TOWER_SINGLE, 1383,  861,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 54, E_TOWER_SINGLE, 1679,  479,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 55, E_TOWER_SINGLE, 2158,  431,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 56, E_TOWER_SINGLE, 2110,  477,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 57, E_TOWER_SINGLE, 2345,  527,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 58, E_TOWER_SINGLE, 2346,  571,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 59, E_TOWER_SINGLE, 2178,  813,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 60, E_TOWER_SINGLE, 2177,  767,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 61, E_TOWER_SINGLE, 2152, 1197,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 62, E_TOWER_SINGLE, 1815, 1004,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 63, E_TOWER_SINGLE, 1862, 1051,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 64, E_TOWER_SINGLE, 1792,  956,        0,   D_LEFT ,            60,        500,                     2,             1 )
myen = enemies:add( 65, E_TOWER_SINGLE, 1199, 1103,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 66, E_TOWER_SINGLE, 1246, 1127,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 67, E_TOWER_SINGLE, 1009, 1293,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 68, E_TOWER_SINGLE, 1009, 1346,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 69, E_TOWER_SINGLE, 1010, 1579,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 70, E_TOWER_SINGLE,  910, 1559,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 71, E_TOWER_SINGLE,  814, 1606,        0,   D_DOWN ,            60,        500,                     2,             1 )
myen = enemies:add( 72, E_TOWER_SINGLE,  574, 1750,        0,   D_RIGHT,            60,        500,                     2,             1 )
myen = enemies:add( 73, E_TOWER_SINGLE, 1931, 1509,        0,   D_RIGHT,            60,        500,                     2,             1 )

function frapela12()
  if ( player[1]:get_thrust() == 1 ) and ( player[1]:get_dead() == 0 ) then
    flug_richtung = player[1]:get_head()
    local n
    for n = 1, 360 do
      if flug_richtung <= n then
        if     n <=  90 then
          plasma_x_geschw = 0  + ( n * 2/90 )
          plasma_y_geschw = -2 + ( n * 2/90 )
        elseif n <= 180 then
          plasma_x_geschw = 2  - ( (n-90) * 2/90 )
          plasma_y_geschw = 0  + ( (n-90) * 2/90 )
        elseif n <= 270 then
          plasma_x_geschw = 0  - ( (n-180) * 2/90 )
          plasma_y_geschw = 2  - ( (n-180) * 2/90 )
        elseif n <= 360 then
          plasma_x_geschw = -2 + ( (n-270) * 2/90 )
          plasma_y_geschw = 0  - ( (n-270) * 2/90 )
        end
        plasma_beschl = player[1]:get_ship_value( PV_ACCELERATION ) / 10
        plasma_x_geschw = plasma_x_geschw * -plasma_beschl
        plasma_y_geschw = plasma_y_geschw * -plasma_beschl
        plasma_x_pos = player[1]:get_x() + (player[1]:get_width()/2)
        plasma_y_pos = player[1]:get_y() + (player[1]:get_height()/2)
        if math.random() < 0.7 then
          effects.pixels:add (      1, plasma_x_pos, plasma_y_pos,       1,       1, plasma_x_geschw, plasma_y_geschw,    20,    PIX_RED,       10,       10 )
          --     .pixels:add ( anzahl,       startx,       starty, xradius, yradius,             xab,             yab, speed,       type, maxtable, lifetime, fadespeed, max_xab, max_yab )
        else
          effects.pixels:add (      1, plasma_x_pos, plasma_y_pos,       1,       1, plasma_x_geschw, plasma_y_geschw,    20, PIX_YELLOW,       10,       10 )
          --     .pixels:add ( anzahl,       startx,       starty, xradius, yradius,             xab,             yab, speed,       type, maxtable, lifetime, fadespeed, max_xab, max_yab )
        end
        break
      end
    end
  end

  local spieler_x    = player[1]:get_x() + (player[1]:get_width()/2)
  local spieler_y    = player[1]:get_y() + (player[1]:get_height()/2)
  feuer              = objects:get_object( 301 )
  local feuer_x      = feuer:get_x() + (feuer:get_width()/2)
  local feuer_y      = feuer:get_y() + (feuer:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-feuer_x)^2 + (spieler_y-feuer_y)^2 )
  if spieler_dist < 50 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-feuer_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-feuer_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 5/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  feuer              = objects:get_object( 302 )
  local feuer_x      = feuer:get_x() + (feuer:get_width()/2)
  local feuer_y      = feuer:get_y() + (feuer:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-feuer_x)^2 + (spieler_y-feuer_y)^2 )
  if spieler_dist < 50 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-feuer_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-feuer_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 5/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  feuer              = objects:get_object( 303 )
  local feuer_x      = feuer:get_x() + (feuer:get_width()/2)
  local feuer_y      = feuer:get_y() + (feuer:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-feuer_x)^2 + (spieler_y-feuer_y)^2 )
  if spieler_dist < 50 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-feuer_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-feuer_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 5/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  feuer              = objects:get_object( 304 )
  local feuer_x      = feuer:get_x() + (feuer:get_width()/2)
  local feuer_y      = feuer:get_y() + (feuer:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-feuer_x)^2 + (spieler_y-feuer_y)^2 )
  if spieler_dist < 50 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-feuer_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-feuer_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 5/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  feuer              = objects:get_object( 305 )
  local feuer_x      = feuer:get_x() + (feuer:get_width()/2)
  local feuer_y      = feuer:get_y() + (feuer:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-feuer_x)^2 + (spieler_y-feuer_y)^2 )
  if spieler_dist < 50 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-feuer_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-feuer_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 5/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  lava               = objects:get_object( 306 )
  local lava_x       = lava:get_x() + (lava:get_width()/2)
  local lava_y       = lava:get_y() + (lava:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-lava_x)^2 + (spieler_y-lava_y)^2 )
  if spieler_dist < 100 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-lava_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-lava_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 10/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  lava              = objects:get_object( 307 )
  local lava_x      = lava:get_x() + (lava:get_width()/2)
  local lava_y      = lava:get_y() + (lava:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-lava_x)^2 + (spieler_y-lava_y)^2 )
  if spieler_dist < 100 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-lava_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-lava_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 10/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  lava              = objects:get_object( 308 )
  local lava_x      = lava:get_x() + (lava:get_width()/2)
  local lava_y      = lava:get_y() + (lava:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-lava_x)^2 + (spieler_y-lava_y)^2 )
  if spieler_dist < 100 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-lava_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-lava_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 10/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  lava              = objects:get_object( 309 )
  local lava_x      = lava:get_x() + (lava:get_width()/2)
  local lava_y      = lava:get_y() + (lava:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-lava_x)^2 + (spieler_y-lava_y)^2 )
  if spieler_dist < 100 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-lava_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-lava_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 10/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
  lava              = objects:get_object( 310 )
  local lava_x      = lava:get_x() + (lava:get_width()/2)
  local lava_y      = lava:get_y() + (lava:get_height()/2)
  local spieler_dist = math.sqrt( (spieler_x-lava_x)^2 + (spieler_y-lava_y)^2 )
  if spieler_dist < 100 then
    gsound:play_sound(ton_alarm, 100)
    local plasma_x_geschw = math.asin( (spieler_x-lava_x)/(spieler_dist) )
    local plasma_y_geschw = math.asin( (spieler_y-lava_y)/(spieler_dist) )
    effects.pixels:add (      1, spieler_x, spieler_y,       1,       1, plasma_x_geschw, plasma_y_geschw,   500, PIX_GREEN,       10,     1000,         0,    1000,    1000 )
    --     .pixels:add ( anzahl,    startx,    starty, xradius, yradius,             xab,             yab, speed,      type, maxtable, lifetime, fadespeed, max_xab, max_yab )
    player[1]:set_fuel( player[1]:get_fuel() - ( 10/spieler_dist ) )
    if player[1]:get_fuel() < 0.5 then
      player[1]:set_dead()
    end
  end
end
