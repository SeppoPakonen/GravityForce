-- Frapela2
-- INI file
-- created by GS-Map-Editor v0.6
-- und Frapela, Frapela sin Fru als Level-Disignerin und Jens als letzter Feinschleifer
-- 21.11.2002


if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end


-- Heimat-Basis
mybase = bases:add(  0, PLAYER_BASE,  549,  634 )
-- Fracht-Basen
mybase = bases:add(  1, CARGO_BASE, 1099,  797 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  2, CARGO_BASE,  785, 1164 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  3, CARGO_BASE,  697, 1931 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  4, CARGO_BASE, 1578, 2140 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  5, CARGO_BASE, 1647, 1259 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  6, CARGO_BASE, 2231,  632 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  7, CARGO_BASE, 2022, 1500 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  8, CARGO_BASE, 2098, 2266 )
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
mybase = bases:add(  9, CARGO_BASE, 1385, 1516 ) 
mybase:set_cargo_type(CARGO_NORMAL)
mybase:set_cargo_weight(5)
-- Frachtfunktionen einbinden
dofile("./levels/libcargo.sc")
init_cargo()
function hook_player_returns_cargo_0(pl)
 check_cargo_return(pl)
 if (__cargo_weight > 0) then
  local pakete = __cargo_weight / 5
  local paketosd = playmap[1].osd:get_osdbit(1000)
  if (LANGUAGE == LANG_DE) then
   if pakete == 8 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Na endlich, " .. player[1]:get_name() .. "! Wo warst du denn so lange? Es sind noch [c:orange]".. pakete.."[c:yellow] Frachtpakete einzusammeln! Also gib Gas!", 30, 4, 1)
   elseif pakete == 7 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Na also, " .. player[1]:get_name() .. ". Das sieht doch schon recht ordentlich aus. Bring nun noch die restlichen [c:orange]".. pakete.."[c:yellow] Pakete, dann hast du es geschafft!", 30, 4, 1)
   elseif pakete == 6 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Nun denn, " .. player[1]:get_name() .. ", wenn du so weiter machst, dauert es zwar noch etwas, bis die [c:orange]".. pakete.."[c:yellow] fehlenden Pakete hier ankommen, aber egal.", 30, 4, 1)
   elseif pakete == 5 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Nun mach schon, " .. player[1]:get_name() .. "! Es fehlen immer noch [c:orange]".. pakete.."[c:yellow] Pakete! Du eierst hier wohl nur ziellos in der Gegend rum, wie?", 30, 4, 1)
   elseif pakete == 4 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Kommt es mir nur so vor, " .. player[1]:get_name() .. ", oder hast du dich dieses Mal wirklich etwas beilt? Es fehlen aber immer noch [c:orange]".. pakete.."[c:yellow] Pakete.", 30, 4, 1)
   elseif pakete == 3 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Nun gut, " .. player[1]:get_name() .. ", bald ist es geschafft. Nur noch [c:orange]".. pakete.."[c:yellow] Pakete fehlen! Gib jetzt nochmal alles!", 30, 4, 1)
   elseif pakete == 2 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. ", bis hierher hast du alles fabelhaft erledigt! Wenn du allerdings meinst, bis hierher war alles viel zu einfach, solltest du jetzt die letzten [c:orange]".. pakete.."[c:yellow] Pakete auf einmal holen! Aber wie auch immer, viel Erfolg!", 10, 4, 1)
   else
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Spitze " .. player[1]:get_name() .. ", aber jetzt beim letzten Paket nur kein Risiko eingehen!", 30, 4, 1)
   end
  else 
   paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. "! Now you must only fetch [c:white]".. pakete.."[c:yellow] parcels, go on!", 30, 5, 0)
  end 
 end
end
function hook_player_dead_0(pl)
  check_cargo_dead(pl)
end

globals.score_per_second = 1

-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
myob = objects:add_special(  0, SPOBJ_TELEPORT1,  986,  545,         2 )
myob = objects:add_special(  1, SPOBJ_TELEPORT1, 2301,  571,        11 )
myob = objects:add_special(  2, SPOBJ_TELEPORT1, 1126,  731,         0 )
myob = objects:add_special(  3, SPOBJ_TELEPORT1, 1975,  803,         6 )
myob = objects:add_special(  4, SPOBJ_TELEPORT1, 2358,  797,        14 )
myob = objects:add_special(  5, SPOBJ_TELEPORT1,  510,  875,         7 )
myob = objects:add_special(  6, SPOBJ_TELEPORT1, 2066, 1029,         3 )
myob = objects:add_special(  7, SPOBJ_TELEPORT1,  801, 1052,         5 )
myob = objects:add_special(  8, SPOBJ_TELEPORT1,  942, 1128,         9 )
myob = objects:add_special(  9, SPOBJ_TELEPORT1, 1218, 1146,         8 )
myob = objects:add_special( 10, SPOBJ_TELEPORT1,  834, 1516,        13 )
myob = objects:add_special( 11, SPOBJ_TELEPORT1, 1417, 1450,         1 )
myob = objects:add_special( 12, SPOBJ_TELEPORT1, 2226, 1462,        17 )
myob = objects:add_special( 13, SPOBJ_TELEPORT1, 1020, 1792,        10 )
myob = objects:add_special( 14, SPOBJ_TELEPORT1, 1656, 1738,         4 )
myob = objects:add_special( 15, SPOBJ_TELEPORT1,  955, 1964,        18 )
myob = objects:add_special( 16, SPOBJ_TELEPORT1, 1463, 1930,        19 )
myob = objects:add_special( 17, SPOBJ_TELEPORT1, 1802, 1930,        12 )
myob = objects:add_special( 18, SPOBJ_TELEPORT1,  877, 2133,        15 )
myob = objects:add_special( 19, SPOBJ_TELEPORT1, 1020, 2132,        16 )
myob = objects:add_special( 20, SPOBJ_TELEPORT1, 1609, 2073,        21 )
myob = objects:add_special( 21, SPOBJ_TELEPORT1,  541, 2225,        20 )
myob = objects:add_special( 22, SPOBJ_TELEPORT1, 2026, 2225,        23 )
myob = objects:add_special( 23, SPOBJ_TELEPORT1, 2263, 2329,        22 )


-- SPOBJ_EXTRA, Parameter:                            extrastaerke
myob = objects:add_special( 24, SPOBJ_EXTRA, 1077, 1162,          1 )
myob = objects:add_special( 25, SPOBJ_EXTRA,  763, 1522,          1 )
myob = objects:add_special( 26, SPOBJ_EXTRA,  929, 2042,          1 )
myob = objects:add_special( 27, SPOBJ_EXTRA, 1421, 1938,          1 )
myob = objects:add_special( 28, SPOBJ_EXTRA, 1854, 1939,          1 )
myob = objects:add_special( 29, SPOBJ_EXTRA, 1658, 1703,          1 )
myob = objects:add_special( 30, SPOBJ_EXTRA, 2082, 1093,          1 )

-- Pool 2
myob = objects:add(  0, OBJ_POOL1, 2120, 2358 )
myob = objects:add(  1, OBJ_POOL1, 2034, 2358 )
myob = objects:add(  2, OBJ_POOL1, 1948, 2358 )

-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --
-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --
-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  1, E_TOWER_SINGLE,  669,  726,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  2, E_TOWER_SINGLE,  703,  759,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  3, E_TOWER_SINGLE, 1098,  580,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  4, E_TOWER_SINGLE, 1419,  585,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  5, E_TOWER_SINGLE, 1265,  517,        0,   D_DOWN,            60,        500,                     2,             1 )
myen = enemies:add(  6, E_TOWER_SINGLE, 1009, 1072,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  7, E_TOWER_SINGLE, 1021, 1072,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add(  8, E_TOWER_SINGLE,  918, 1010,        0,   D_LEFT,            60,        500,                     2,             1 )
myen = enemies:add(  9, E_TOWER_SINGLE,  717, 1247,        0,   D_DOWN,            60,        500,                     2,             1 )
myen = enemies:add( 10, E_TOWER_SINGLE,  955, 1202,        0,   D_DOWN,            60,        500,                     2,             1 )
myen = enemies:add( 12, E_TOWER_SINGLE, 1148, 1775,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 13, E_TOWER_SINGLE,  631, 2208,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 14, E_TOWER_SINGLE, 1056, 1872,        0,   D_RIGHT,           60,        500,                     2,             1 )
myen = enemies:add( 15, E_TOWER_SINGLE, 1318, 1937,        0,   D_LEFT,            60,        500,                     2,             1 )
myen = enemies:add( 16, E_TOWER_SINGLE, 1306, 1949,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 17, E_TOWER_SINGLE, 1482,  767,        0,   D_RIGHT,           60,        500,                     2,             1 )
myen = enemies:add( 18, E_TOWER_SINGLE, 2213, 1153,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 19, E_TOWER_SINGLE, 2224, 1153,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 20, E_TOWER_SINGLE, 1895, 1177,        0,   D_LEFT,            60,        500,                     2,             1 )
myen = enemies:add( 21, E_TOWER_SINGLE, 1847, 1113,        0,   D_DOWN,            60,        500,                     2,             1 )
myen = enemies:add( 23, E_TOWER_SINGLE, 2260, 2209,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 24, E_TOWER_SINGLE, 2273, 2209,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 29, E_TOWER_SINGLE, 1382, 1589,        0,   D_LEFT,            60,        500,                     2,             1 )
myen = enemies:add( 41, E_TOWER_SINGLE, 2148, 1492,        0,     D_UP,            60,        500,                     2,             1 )
myen = enemies:add( 46, E_TOWER_SINGLE, 1571,  627,        0,   D_RIGHT,           60,        500,                     2,             1 )
myen = enemies:add( 47, E_TOWER_SINGLE, 2177,  517,        0,   D_DOWN,            60,        500,                     2,             1 )
myen = enemies:add( 48, E_TOWER_SINGLE, 1675,  523,        0,   D_DOWN,            60,        500,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 11, E_TOWER_THREE, 1074, 1496,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 25, E_TOWER_THREE, 1626, 2362,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 42, E_TOWER_THREE, 1928, 1494,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 43, E_TOWER_THREE, 1604, 1254,         0,            60,        500,                     2,             1,           0 )
myen = enemies:add( 44, E_TOWER_THREE, 1756, 1254,         0,            60,        500,                     2,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 22, E_TOWER_FLAK, 2288, 1390,        0,        80,            60,        500,                     2,             3 )
myen = enemies:add( 30, E_TOWER_FLAK, 1160, 1773,        0,        80,            60,        500,                     2,             3 )
myen = enemies:add( 31, E_TOWER_FLAK, 1221, 2167,        0,        80,            60,        500,                     2,             3 )
myen = enemies:add( 36, E_TOWER_FLAK, 1415, 2362,        0,        80,            60,        500,                     2,             3 )
myen = enemies:add( 37, E_TOWER_FLAK, 1824, 2360,        0,        80,            60,        500,                     2,             3 )
myen = enemies:add( 38, E_TOWER_FLAK, 2223, 2105,        0,        80,            60,        500,                     2,             3 )

-- E_TANK_FLYINGTOWER, Parameter:                       signatur,      turm-ladung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 26, E_TANK_FLYINGTOWER, 1529, 1074,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add( 1529, 1074, 1.0, 0 )
myen.wp:add( 1900,  704, 1.0, 0 )
myen.wp:add( 2092,  704, 1.0, 0 )
myen.wp:add( 1900,  704, 1.0, 0 )
myen = enemies:add( 27, E_TANK_FLYINGTOWER, 1321, 1858,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add( 1321, 1858, 1.0, 0 )
myen.wp:add( 1605, 1573, 1.0, 0 )
myen = enemies:add( 28, E_TANK_FLYINGTOWER, 2004, 1881,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add( 2004, 1881, 1.0, 0 )
myen.wp:add( 1861, 1732, 1.0, 0 )
myen.wp:add( 1725, 1601, 1.0, 0 )
myen.wp:add( 1662, 1565, 1.0, 0 )
myen = enemies:add( 33, E_TANK_FLYINGTOWER,  616, 1505,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add(  616, 1505, 1.0, 0 )
myen.wp:add(  746, 1374, 1.0, 0 )
myen = enemies:add( 39, E_TANK_FLYINGTOWER, 1934, 2103,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add( 1934, 2103, 1.0, 0 )
myen.wp:add( 2197, 2103, 1.0, 0 )
myen = enemies:add( 49, E_TANK_FLYINGTOWER, 1194,  953,        0,   E_TOWER_THREE,            60,        500,                     2,             1 )
myen.wp:add( 1194,  953, 1.0, 0 )
myen.wp:add( 1242,  979, 1.0, 0 )
myen.wp:add( 1401, 1128, 1.0, 0 )
myen.wp:add( 1241,  978, 1.0, 0 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
blaukl32 = enemies:add( 32, E_SHIP_BLUE1, 529,  950,      0,            80,        800,                     2,             2,           0 )
blaukl32.wp:add(  529,  950, 1.0, 0 )
blaukl32.wp:add(  529, 1285, 1.0, 0 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 34, E_SHIP_BLUE2,  534, 1516,         0,            80,        800,                     2,             2,           0 )
myen.wp:add(  534, 1516, 1.0, 0 )
myen.wp:add(  534, 1873, 1.0, 0 )
myen.wp:add(  817, 1780, 1.0, 0 )
myen.wp:add(  878, 1780, 1.0, 0 )
myen.wp:add( 1125, 1556, 1.0, 0 )
myen.wp:add(  877, 1781, 1.0, 0 )
myen.wp:add(  593, 1781, 1.0, 0 )
myen = enemies:add( 45, E_SHIP_BLUE2, 1877,  967,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1877,  967, 1.0, 0 )
myen.wp:add( 1877,  864, 1.0, 0 )
myen.wp:add( 1973,  868, 1.0, 0 )
myen.wp:add( 2274,  868, 1.0, 0 )
myen.wp:add( 2274,  952, 1.0, 0 )
myen.wp:add( 2210,  868, 1.0, 0 )
myen.wp:add( 1879,  868, 1.0, 0 )

-- E_SHIP_BIGRED, Parameter:                       signatur, [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt], [unbenutzt]
myen = enemies:add( 35, E_SHIP_BIGRED,  530, 2313,        0,           0,           0,           0,           0,           0 )
myen.wp:add(  530, 2313, 1.0, 0 )
myen.wp:add( 1222, 2313, 1.0, 0 )
myen = enemies:add( 40, E_SHIP_BIGRED, 2211, 1496,        0,           0,           0,           0,           0,           0 )
myen.wp:add( 2211, 1496, 1.0, 0 )
myen.wp:add( 2295, 1497, 1.0, 0 )
myen.wp:add( 2161, 1633, 1.0, 0 )
myen.wp:add( 2291, 1633, 1.0, 0 )