-- Frapela1
-- INI file
-- created by GS-Map-Editor v0.6
-- und Frapela, Frapela sin Fru als Level-Disignerin und Jens als letzter Feinschleifer
-- 21.11.2002


if (VERSION >= 0.9) then
  dofile("./levels/compat.lua")
end


heimat0 = bases:add(  0, PLAYER_BASE,  586, 2363 )
fracht1 = bases:add(  1, CARGO_BASE, 1120, 1965 )
fracht1:set_cargo_type(CARGO_NORMAL)
fracht1:set_cargo_weight(10)
fracht2 = bases:add(  2, CARGO_BASE, 1375, 1402 )
fracht2:set_cargo_type(CARGO_NORMAL)
fracht2:set_cargo_weight(10)
fracht3 = bases:add(  3, CARGO_BASE, 1578, 1468 )
fracht3:set_cargo_type(CARGO_NORMAL)
fracht3:set_cargo_weight(10)
fracht4 = bases:add(  4, CARGO_BASE, 1636, 2027 )
fracht4:set_cargo_type(CARGO_NORMAL)
fracht4:set_cargo_weight(10)
-- Frachtfunktionen einbinden
dofile("./levels/libcargo.sc")
init_cargo()
function hook_player_returns_cargo_0(pl)
 check_cargo_return(pl)
 if (__cargo_weight > 0) then
  local pakete = __cargo_weight / 10
  local paketosd = playmap[1].osd:get_osdbit(1000)
  if (LANGUAGE == LANG_DE) then
   if pakete == 3 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. "! Jetzt musst du nur noch [c:orange]".. pakete.."[c:yellow] Frachtpakete einsammeln, also gib Gas!", 30, 4, 1)
   elseif pakete == 2 then
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Sauber " .. player[1]:get_name() .. "! Besorge jetzt die beiden letzten Pakete, dann reicht es vielleicht zum Highscore!", 30, 4, 1)
   else
    paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Spitze " .. player[1]:get_name() .. ", aber jetzt beim letzten Paket immer locker bleiben!", 30, 4, 1)
   end
  else 
   paketosd:draw_typewriter_text("[center][f:impact10][c:yellow]Super " .. player[1]:get_name() .. "! Now you must only fetch [c:orange]".. pakete.."[c:yellow] parcels, go on!", 30, 4, 1)
  end 
 end
end
function hook_player_dead_0(pl)
  check_cargo_dead(pl)
end

globals.score_per_second = 1

-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
tele0 = objects:add_special(  0, SPOBJ_TELEPORT1,  914, 2210,             1 )
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
tele1 = objects:add_special(  1, SPOBJ_TELEPORT1,  584, 1389,             0 )
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
tele2 = objects:add_special(  2, SPOBJ_TELEPORT1, 1431,  533,             3 )
-- SPOBJ_TELEPORT1, Parameter:                            zielteleporter
tele3 = objects:add_special(  3, SPOBJ_TELEPORT1, 2279,  585,             2 )

baum1 = objects:add(  4, OBJ_TREE, 1099, 1371 )
baum2 = objects:add(  5, OBJ_TREE2, 1179, 1382 )

tuer0     = objects:add(  6, OBJ_DOORH2, 1903, 1570 )
schalter0 = objects:add(  7, OBJ_SWITCHR, 2361, 1394 )
schalter  = objects:get_object(7)
letzter_zustand = schalter:get_dispframe()

extra0 = objects:add_special( 8, SPOBJ_EXTRA, 1297, 1496, 1, 60)
extra1 = objects:add_special( 9, SPOBJ_EXTRA,  936,  532, 1, 60)
extra2 = objects:add_special(10, SPOBJ_EXTRA, 1272,  533, 1, 60)
extra3 = objects:add_special(11, SPOBJ_EXTRA, 1549,  836, 1, 60)
extra4 = objects:add_special(12, SPOBJ_EXTRA, 1930, 2003, 1, 60)


-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --
-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --
-- Gegner -- Gegner -- Gegner -- Gegner -- Gegner -- Gegner --Gegner -- Gegner -- Gegner -- Gegner --


-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
turm3er1 = enemies:add(  1, E_TOWER_THREE, 1882, 1449,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  1, E_TOWER_THREE, 2069, 1449,         0,            60,        800,                     2,             1,           0 )

-- E_SHIP_BLUE2, Parameter:                         signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer ‹ber Heimat-Basis (Verfolgung)
blaugr2 = enemies:add(  2, E_SHIP_BLUE2,   885, 1613,      0,            60,       1000,                     2,             2,           0 )
blaugr2.wp:add( 885, 1613, 0.2 )
blaugr2.wp:add( 890, 1620, 0.2 )


-- E_SHIP_BLUE1, Parameter: 680                     signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer unten (waagerecht)
myen = enemies:add(  3, E_SHIP_BLUE1,   554, 1509,         0,            80,        800,                     2,             2,           0 )
myen.wp:add(  554, 1509, 0.9 )
myen.wp:add( 1234, 1509, 0.9 )

-- E_SHIP_BLUE1, Parameter: 680                     signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer oben (waagerecht)
myen = enemies:add(  4, E_SHIP_BLUE1,  1234, 1551,         0,            20,        800,                     2,             2,           0 )
myen.wp:add( 1234, 1551, 0.9 )
myen.wp:add(  554, 1551, 0.9 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- myen = enemies:add(  5, E_TOWER_SINGLE,  737, 2357,     0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- myen = enemies:add(  6, E_TOWER_SINGLE,  541, 2358,     0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add(  7, E_TOWER_THREE,  804, 2211,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- ¸ber 1. Cargo-Basis
myen = enemies:add(  8, E_TOWER_SINGLE, 1100, 1485,        0,   D_DOWN,            12,       1500,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add(  9, E_TOWER_SINGLE,  550, 1360,        0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 10, E_TOWER_SINGLE,  633, 1086,        0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 11, E_TOWER_SINGLE,  645, 1057,        0,   D_LEFT,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 12, E_TOWER_SINGLE,  645, 1067,        0,   D_LEFT,            60,        800,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 13, E_TOWER_THREE,  704,  579,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 14, E_TOWER_THREE, 1138,  579,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 15, E_TOWER_THREE,  954, 1402,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 16, E_TOWER_THREE, 1295, 1402,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- neben 1. Cargo-Basis
myen = enemies:add( 17, E_TOWER_FLAK, 1079, 1967,        0,        80,            60,        800,                     4,             3 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 19, E_TOWER_SINGLE,  765,  831,        0,     D_UP,            60,        800,                     2,             1 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer links (senkrecht)
myen = enemies:add( 20, E_SHIP_BLUE1,  570,  533,         0,            80,        800,                     2,             2,           0 )
myen.wp:add(  570,  533, 0.8 )
myen.wp:add(  570, 1336, 0.8 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer 2. von links (senkrecht)
myen = enemies:add( 21, E_SHIP_BLUE2,  814, 1348,         0,            80,        800,                     2,             2,           0 )
myen.wp:add(  814, 1348, 0.8 )
myen.wp:add(  814,  539, 0.8 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer 3. von links (senkrecht)
myen = enemies:add( 18, E_SHIP_BLUE2, 1014,  718,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1014,  718, 0.8 )
myen.wp:add( 1014, 1348, 0.8 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer 4. von links (senkrecht)
myen = enemies:add( 22, E_SHIP_BLUE2, 1160, 1254,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1160, 1254, 0.8 )
myen.wp:add( 1160,  652, 0.8 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer 5. von links (senkrecht)
myen = enemies:add( 23, E_SHIP_BLUE1, 1369,  706,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1369,  706, 0.8 )
myen.wp:add( 1369, 1365, 0.8 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 24, E_TOWER_SINGLE, 1537,  622,        0,  D_RIGHT,            60,        800,                     2,             1 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- ¸ber 3. Cargo-Basis
myen = enemies:add( 25, E_TOWER_FLAK, 1692,  882,        0,        80,            60,        800,                     3,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- rechts neben T¸r
myen = enemies:add( 26, E_TOWER_FLAK, 2040, 1442,        0,        80,            60,        800,                     4,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- neben Schalter
myen = enemies:add( 27, E_TOWER_FLAK, 2095, 1441,        0,        60,            60,        800,                     3,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- neben 3. Cargo-Basis
myen = enemies:add( 28, E_TOWER_FLAK, 1818, 1452,        0,        80,            60,        800,                     3,             3 )

-- E_SHIP_BLUE2, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer Mitte (waagerecht)
myen = enemies:add( 29, E_SHIP_BLUE2, 1871, 1635,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1676, 1635, 0.9 )
myen.wp:add( 2266, 1635, 0.9 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer oben (waagerecht)
myen = enemies:add( 30, E_SHIP_BLUE1, 1676, 1597,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 1676, 1597, 0.6 )
myen.wp:add( 2312, 1597, 0.6 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer unten (waagerecht)
myen = enemies:add( 31, E_SHIP_BLUE1, 1676, 1695,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 2312, 1695, 0.6 )
myen.wp:add( 1676, 1695, 0.6 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer Dreieck oben links
myen = enemies:add( 32, E_SHIP_BLUE1, 2012, 1745,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 2012, 1745, 0.8 )
myen.wp:add( 2301, 1745, 0.8 )
myen.wp:add( 2012, 2034, 0.8 )

-- E_SHIP_BLUE1, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- kleiner Blauer Dreieck unten rechts
myen = enemies:add( 33, E_SHIP_BLUE1, 2157, 1890,         0,            80,        800,                     2,             2,           0 )
myen.wp:add( 2301, 1745, 0.8 )
myen.wp:add( 2301, 2034, 0.8 )
myen.wp:add( 2012, 2034, 0.8 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 34, E_TOWER_SINGLE, 1879, 1973,        0,  D_RIGHT,            60,        800,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 35, E_TOWER_THREE, 2228, 2168,         0,            60,        500,                     2,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- rechte Flack ganz unten rechts
myen = enemies:add( 36, E_TOWER_FLAK, 1954, 2412,        0,        80,            60,        800,                     3,             3 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- linke Flack ganz unten rechts
myen = enemies:add( 37, E_TOWER_FLAK, 1717, 2508,        0,        80,            60,        800,                     3,             3 )

-- E_TOWER_SINGLE, Parameter:                       signatur, richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 38, E_TOWER_SINGLE, 1485, 2104,        0,     D_UP,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 39, E_TOWER_SINGLE, 1422, 2135,        0,   D_LEFT,            60,        800,                     2,             1 )

-- E_TOWER_SINGLE, Parameter:                       signatur,  richtung, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
myen = enemies:add( 40, E_TOWER_SINGLE, 1429, 2163,        0,   D_LEFT,            60,        800,                     2,             1 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 41, E_TOWER_THREE, 1574, 2506,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 42, E_TOWER_THREE, 1677, 2502,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 43, E_TOWER_THREE, 1830, 2407,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_THREE, Parameter:                        signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
myen = enemies:add( 44, E_TOWER_THREE, 2147, 2361,         0,            60,        800,                     2,             1,           0 )

-- E_TOWER_FLAK, Parameter:                       signatur, expl.zeit, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke
-- auf Bergspitze rechts
myen = enemies:add( 45, E_TOWER_FLAK, 2104, 2059,        0,        80,            60,        800,                     3,             3 )

-- E_SHIP_BLUE2, Parameter:                             signatur, feuerfrequenz, akt.radius, schussgeschwindigkeit, schussstaerke, [unbenutzt]
-- groﬂer Blauer rechts oben Verfolgung
blaugr46 = enemies:add(  46, E_SHIP_BLUE2,  2100, 1075,         0,            60,       1000,                     1,             2,           0 )
blaugr46.wp:add( 2100, 1075, 0.2 )
blaugr46.wp:add( 2105, 1080, 0.2 )